<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="renderer" content="webkit">
    <title>考勤规则</title>
    <link href="../resource/css/yanjing/mobiscroll.2.13.2.css" rel="stylesheet">
    <link href="../resource/layui/css/layui.css" rel="stylesheet">
    <link href="../resource/css/bootstrap.min.css" rel="stylesheet">
    <link href="../resource/css/reset.css" rel="stylesheet">
    <link href="../resource/js/plugins/bootstarp-table/css/bootstrap-table.min.css" rel="stylesheet">
    <link href="../resource/css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css" rel="stylesheet">
    <link href="../resource/css/font-awesome.css?v=4.4.0" rel="stylesheet">
    <link href="../resource/css/animate.css" rel="stylesheet">
    <link href="../resource/css/style.css" rel="stylesheet">
    <link href="../resource/css/common.css" rel="stylesheet">
    <link href="../resource/css/yanjing/myDate.css" rel="stylesheet">
    <link rel="stylesheet" href="../resource/fonts/iconfont.css">
    <link rel="stylesheet" href="../resource/css/common.css">
    <link rel="stylesheet" href="../resource/css/yanjing/attendanceRule.css">
</head>
<body>
<!--首页内容-->
<div class="main">
    <div class="yj-header">
        <div class="yj-header-left">
            <div><i class="icon iconfont icon-ico_list"></i></div>
            <span>考勤规则</span>
        </div>
        <div class="yj-header-right">
            <button class="btn btn-primary" onclick="addshop()" >添加门店</button>
        </div>
    </div>
    <div class="goods-body">
        <ul>
            <li class="item">
                <div class="itemTop clear">
                    <div class="shopName fl">精益眼镜店</div>
                    <div class="delRuleBox fr">删除门店规则</div>
                </div>
                <div class="shopInfo">
                        <ul>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                        </ul>
                </div>
                <div class="foot">
                    <button class="editBtn" onclick="showEditBox()">查看/编辑</button>
                </div>
            </li>
            <li class="item">
                <div class="itemTop clear">
                    <div class="shopName fl">精益眼镜店</div>
                    <div class="delRuleBox fr">删除门店规则</div>
                </div>
                <div class="shopInfo">
                        <ul>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                        </ul>
                </div>
                <div class="foot">
                    <button class="editBtn" >查看/编辑</button>
                </div>
            </li>
            <li class="item">
                <div class="itemTop clear">
                    <div class="shopName fl">精益眼镜店</div>
                    <div class="delRuleBox fr">删除门店规则</div>
                </div>
                <div class="shopInfo">
                        <ul>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                        </ul>
                </div>
                <div class="foot">
                    <button class="editBtn" >查看/编辑</button>
                </div>
            </li>
            <li class="item">
                <div class="itemTop clear">
                    <div class="shopName fl">精益眼镜店</div>
                    <div class="delRuleBox fr">删除门店规则</div>
                </div>
                <div class="shopInfo">
                        <ul>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                        </ul>
                </div>
                <div class="foot">
                    <button class="editBtn" >查看/编辑</button>
                </div>
            </li>
            <li class="item">
                <div class="itemTop clear">
                    <div class="shopName fl">精益眼镜店</div>
                    <div class="delRuleBox fr">删除门店规则</div>
                </div>
                <div class="shopInfo">
                        <ul>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                            <li>
                                <div class="shopInfoTitle">门店简码</div>
                                <div class="shopInfoExp">298176578212</div>
                            </li>
                        </ul>
                </div>
                <div class="foot">
                    <button class="editBtn" >查看/编辑</button>
                </div>
            </li>
        </ul>
        </div>

    <div class="editBox">
        <div class="editTop clear">
            <div class="shopRuleName fl">精益眼镜旗舰店考勤规则管理</div>
            <div class="fr">
                <button class="btn btn-primary" onclick="addStaff()" >添加员工</button>
            </div>
        </div>
        <div class="addClasses">
            <div class="classesName">
                <span>班次</span><span class="classesTip">点击表格中的「编辑」按钮并拖拽班次到表格中</span>
            </div>
            <div class="addClassesBox">
                <div class="addClassesList clear" >
                    <ul id="addClasses" class="clear">
                        <li class="fl">
                                <span class="titles blueLeft">早班</span><span class="exps blueRight">8:30-12:30</span>
                        </li>
                        <li class="fl">
                                <span class="titles qingLeft">中班</span><span class="exps qingRight">12:30-17:30</span>
                        </li>
                        <li class="fl">
                            <span class="titles redLeft">晚班</span><span class="exps redRight">17:30-21:00</span>
                        </li>
                        <li class="fl">
                            <span class="titles ziseLeft">全天</span><span class="exps ziseRight">08:30-21:00</span>
                        </li>
                        <div class="addClassesBtn fl" onclick="timeDuanShow()">
                            <i class="icon iconfont icon-ico_plus"></i>
                            <span class="btnFont">添加/编辑时间段</span>
                        </div>
                    </ul>
                </div>
                
            </div>
        </div>
        <div class="tianDuanTable">
            <div class="tableTitle">
                <ul class="clear">
                    <li class="costNum fl">序号</li>
                    <li class="staffName fl">员工姓名</li>
                    <li class="oneDay fl">星期一</li>
                    <li class="oneDay fl">星期二</li>
                    <li class="oneDay fl">星期三</li>
                    <li class="oneDay fl">星期四</li>
                    <li class="oneDay fl">星期五</li>
                    <li class="oneDay fl">星期六</li>
                    <li class="oneDay fl">星期日</li>
                    <li class="handle fl">操作</li>
                </ul>
            </div>
        </div>
        <div class="tableCont">
            <ul>
                <li>
                    <div class="whiteZhe"></div>
                    <ul class="clear">
                        <li class="costNum fl">1</li>
                        <li class="staffName fl">姚世杰</li>
                        <li class="oneDay fl">
                            <div class="ziseDay">
                                08:30-21:00
                            </div>
                        </li>
                        <li class="oneDay fl">
                            <div class="blueDay">8:30-12:30</div>
                            <div class="qingDay">12:30-17:30</div>
                            <div class="redDay">17:30-21:00</div>
                        </li>
                        <li class="oneDay fl">
                            <div class="blueDay">8:30-12:30</div>
                            <div class="qingDay">12:30-17:30</div>
                            <div class="redDay">17:30-21:00</div>
                        </li>
                        <li class="oneDay fl">
                            <div class="blueDay">8:30-12:30</div>
                            <div class="qingDay">12:30-17:30</div>
                            <div class="redDay">17:30-21:00</div>
                        </li>
                        <li class="oneDay fl">
                            <div class="blueDay">8:30-12:30</div>
                            <div class="qingDay">12:30-17:30</div>
                            <div class="redDay">17:30-21:00</div>
                        </li>
                        <li class="oneDay fl">
                            <div class="blueDay">8:30-12:30</div>
                            <div class="qingDay">12:30-17:30</div>
                            <div class="redDay">17:30-21:00</div>
                        </li>
                        <li class="oneDay fl">
                            <div class="blueDay">8:30-12:30</div>
                            <div class="qingDay">12:30-17:30</div>
                            <div class="redDay">17:30-21:00</div>
                        </li>
                        <li class="handle fl">
                            <button class="btn btn-primary" >编辑</button>
                        </li>
                    </ul>
                </li>
                <li>
                        <ul class="clear">
                            <li class="costNum fl">1</li>
                            <li class="staffName fl">姚世杰</li>
                            <li class="oneDay fl">
                                <div class="ziseDay">
                                    08:30-21:00<span class="ziseDel"><i class="icon iconfont icon-ico_cross"></i></span>
                                </div>
                            </li>
                            <li class="oneDay fl">
                                <div class="blueDay hideOpt">8:30-12:30</div>
                                <div class="qingDay">12:30-17:30</div>
                                <div class="redDay">17:30-21:00</div>
                            </li>
                            <li class="oneDay fl">
                                <div class="blueDay">8:30-12:30
                                        <span class="blueDel"><i class="icon iconfont icon-ico_cross"></i></span>
                                </div>
                                <div class="qingDay hideOpt">12:30-17:30</div>
                                <div class="redDay">17:30-21:00
                                        <span class="redDel"><i class="icon iconfont icon-ico_cross"></i></span>
                                </div>
                            </li>
                            <li class="oneDay fl">
                                <div class="blueDay hideOpt">8:30-12:30</div>
                                <div class="qingDay">12:30-17:30
                                        <span class="qingDel"><i class="icon iconfont icon-ico_cross"></i></span>
                                </div>
                                <div class="redDay hideOpt">17:30-21:00</div>
                            </li>
                            <li class="oneDay fl">
                                <div class="blueDay hideOpt">8:30-12:30</div>
                                <div class="qingDay hideOpt">12:30-17:30</div>
                                <div class="redDay">17:30-21:00</div>
                            </li>
                            <li class="oneDay fl">
                                <div class="blueDay">8:30-12:30</div>
                                <div class="qingDay">12:30-17:30</div>
                                <div class="redDay">17:30-21:00</div>
                            </li>
                            <li class="oneDay fl">
                                <div class="blueDay">8:30-12:30</div>
                                <div class="qingDay">12:30-17:30</div>
                                <div class="redDay hideOpt">17:30-21:00</div>
                            </li>
                            <li class="handle fl">
                                <button class="btn btn-primary" >编辑</button>
                            </li>
                        </ul>
                    </li>
            </ul>
        </div>
    </div>

    <div class="shopList">
        <div class="topBox clear">
            <div class="shopNameBox fl" >
                <div class="shopInpName">门店名称</div>
                <div class="nameInp">
                    <input type="text" placeholder="名称">
                </div>
            </div>
            <div class="shopNameBox fr">
                <div class="shopInpName">门店电话</div>
                <div class="nameInp">
                    <input type="text" placeholder="电话">
                </div>
            </div>
        </div>
        <div class="centerBox">
            <div class="shopInpName">门店名称</div>
            <div class="addreeBox"></div>
        </div>
        <div class="selectAdderss">
            <div class="selectBoxOne">
                <select>
                    <option value="0">浙江省</option>
                    <option value="1">山东省</option>
                    <option value="2">湖南省</option>
                </select>
                <div class="iconBox"><i class="icon iconfont icon-ico_arrow_down"></i></div>
            </div>
            <div class="selectBoxOne">
                <select>
                    <option value="0">浙江省</option>
                    <option value="1">山东省</option>
                    <option value="2">湖南省</option>
                </select>
                <div class="iconBox"><i class="icon iconfont icon-ico_arrow_down"></i></div>
            </div>
            <div class="selectBoxOne">
                <select>
                    <option value="0">浙江省</option>
                    <option value="1">山东省</option>
                    <option value="2">湖南省</option>
                </select>
                <div class="iconBox"><i class="icon iconfont icon-ico_arrow_down"></i></div>
            </div>
        </div>
        <div class="adressInp">
            <input type="text" placeholder="详细地址">
        </div>
    </div>


    <div class="staffList">
        <div class="tabBox">
            <div class="tabBoxTop clear">
               <div class="checkBox fl">
                <input type="checkbox" >
               </div>
               <div class="shopNameListBox fl">
                <span>门店名称</span>
               </div>
               <div class="showStaffSelect fl">
                <span>操作</span>
               </div>
            </div>
            <div class="shopListBox">
                <ul>
                    <li class="listItem" onclick="showStaff(this)">
                        <div class="itemShop clear">
                            <div class="checkBox fl">
                                <input type="checkbox" >
                               </div>
                               <div class="shopNameListBox fl">
                                <span>精益眼镜旗舰店</span>
                               </div>
                               <div class="showStaffSelect fl">
                                <button class="btn btn-primary" >选择</button>
                               </div>
                        </div>
                        <div class="itemStaff">
                            <ul>
                                <li class="clear">
                                    <div class="checkBox fl">
                                        <input type="checkbox" >
                                       </div>
                                       <div class="shopNameListBox fl">
                                        <span>黄明明</span>
                                       </div>
                                       <div class="showStaffSelect fl">
                                        <button class="btn btn-primary" >选择</button>
                                       </div>
                                </li>
                                <li class="clear bgcolor">
                                    <div class="checkBox fl">
                                        <input type="checkbox" >
                                       </div>
                                       <div class="shopNameListBox fl">
                                        <span>林毅</span>
                                       </div>
                                       <div class="showStaffSelect fl">
                                        <button class="btn btn-primary" >选择</button>
                                       </div>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="listItem" onclick="showStaff(this)">
                        <div class="itemShop clear">
                            <div class="checkBox fl">
                                <input type="checkbox" >
                               </div>
                               <div class="shopNameListBox fl">
                                <span>门店名称</span>
                               </div>
                               <div class="showStaffSelect fl">
                                <button class="btn btn-primary" >选择</button>
                               </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 编辑时间段 -->
    <div class="eidtTimeDuanBox">
        <div class="timeDuanList">
            <ul id="colorList">
                <li>
                    <div class="topBox clear">
                        <div class="shopNameBox fl" >
                            <div class="shopInpName">时间段名称</div>
                            <div class="nameInp">
                                <input type="text" placeholder="名称">
                            </div>
                        </div>
                        <div class="shopNameBox fr">
                            <div class="shopInpName">时间段</div>
                            <div class="nameInp positIcon">
                                <input type="text" placeholder="开始时间-结束时间">
                                <i class="icon iconfont icon-ico_calendar"></i>
                            </div>
                        </div>
                    </div>
                    <div class="selectColorBox">
                        <div class="shopInpName">时间段背景颜色</div>
                        <div class="colorList">
                            <ul class="clear">
                                <li class="optBorBlue">
                                    <div class="blue"><i class="icon iconfont icon-ico_check optHide"></i></div>
                                </li>
                                <li class="">
                                    <div class="qianLan"><i class="icon iconfont icon-ico_check optHide"></i></div>
                                </li>
                                <li class="">
                                    <div class="red"><i class="icon iconfont icon-ico_check optHide"></i></div>
                                </li>
                                <li class="">
                                    <div class="zise"><i class="icon iconfont icon-ico_check optHide"></i></div>
                                </li>
                                <li class="">
                                    <div class="cheng"><i class="icon iconfont icon-ico_check optHide"></i></div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="delThisBox" onclick="delColor(this)">x</div>
                </li>
            </ul>
        </div>
        <div class="takeStart">
            <div class="takeTitle">轮换开始时间</div>
            <div class="takeInp">
                <input type="text" placeholder="输入开始轮换时间">
            </div>
        </div>
    </div>


</div>


<!--全局js-->
<script src="../resource/js/jquery.min.js"></script>
<script src="../resource/js/bootstrap.js?v=3.3.6"></script>
<!--时间插件引用的css-->
<script src="../resource/js/plugins/bootstarp-table/js/bootstrap-table.js"></script>
<script src="../resource/js/plugins/bootstarp-table/js/bootstrap-table-zh-CN.min.js"></script>
<script src="../resource/js/plugins/layer/layer.js"></script>
<script src="../resource/layui/layui.js"></script>

<script src="../resource/js/lib/quakooLib/QuakooBase-1.0.0.js"></script>
<script src="../resource/js/lib/quakooLib/QuakooConfig-1.0.0.js"></script>
<script src="../resource/js/lib/quakooLib/QuakooBasePc-1.0.0.js"></script>
<script src="../resource/js/lib/quakoo/Config.js"></script>
<script src="../resource/js/lib/quakoo/project.js"></script>
<script src="../resource/common/common.js?" +Math.random()></script>
<script src="../resource/js/yanjing/yanjing.js"></script>
<script src="../resource/js/yanjing/daterange.js"></script>
<script src="../resource/js/echarts.js"></script>
<script src="../resource/js/template-native.js"></script>


<script>
    

    function showEditBox(){
        $('.editBox').show()
        $('.goods-body').hide()
        $('.yj-header-right').hide()
    }

    // 添加门店弹窗
    function addshop() {
        layer.open({
            type: 1,
            shade: 0.01,
            title: '<div class="head"><span class="title mine-title">添加门店</span></div>',
            skin: 'importSalaryTanBox-tan', //样式类名
            anim: 0,
            move:".mine-title",
            area: ['360px', '366px'],
            closeBtn: 0, //不显示关闭按钮
            resize: false,
            shadeClose: true, //开启遮罩关闭
            content: $('.shopList'),
            btn: ['取消','确定'],
            yes: function (index) {
                layer.close(index);
            },
            btn2: function (index) {
                return false;
            },
            success: function (index) {

            }
        })
    }

    // 添加员工
    function addStaff(){
        layer.open({
            type: 1,
            shade: 0.01,
            title: '<div class="head"><span class="title mine-title">添加员工</span><span class="searchSatff fr"><input type="text" placeholder="搜索员工"></span></div>',
            skin: 'importSalaryTanBox-tan', //样式类名
            anim: 0,
            move:".mine-title",
            area: ['360px', '448px'],
            closeBtn: 0, //不显示关闭按钮
            resize: false,
            shadeClose: true, //开启遮罩关闭
            content: $('.staffList'),
            btn: ['关闭窗口'],
            yes: function (index) {
                layer.close(index);
            },
            btn2: function (index) {
                return false;
            },
            success: function (index) {

            }
        })
    }
    var flag=false
    function showStaff(dom){
        if(!flag){
            $(dom).children('.itemStaff').show()
        }else{
            $(dom).children('.itemStaff').hide()
        }
        flag = !flag
    }
   
    // 编辑时间段
    function timeDuanShow(){
        layer.open({
            type: 1,
            shade: 0.01,
            title: '<div class="head"><span class="title mine-title">添加时间段</span><span class="btn btn-primary rightAddClassesBtn fr" onclick="addClasses()">添加班次</span></div>',
            skin: 'importSalaryTanBox-tan', //样式类名
            anim: 0,
            move:".mine-title",
            area: ['366px'],
            closeBtn: 0, //不显示关闭按钮
            resize: false,
            shadeClose: true, //开启遮罩关闭
            content: $('.eidtTimeDuanBox'),
            btn: ['取消','保存修改'],
            yes: function (index) {
                layer.close(index);
            },
            btn2: function (index) {
                return false;
            },
            success: function (index) {

            }
        })
    }

    //添加班次
    var str = '<li>'
            str+=    '<div class="topBox clear">'
            str+= '        <div class="shopNameBox fl" >'
            str+= '            <div class="shopInpName">时间段名称</div>'
            str+= '            <div class="nameInp">'
            str+= '                <input type="text" placeholder="名称">'
            str+= '            </div>'
            str+= '        </div>'
            str+= '        <div class="shopNameBox fr">'
            str+= '            <div class="shopInpName">时间段</div>'
            str+= '            <div class="nameInp positIcon">'
            str+= '                <input type="text" placeholder="开始时间-结束时间">'
            str+= '                <i class="icon iconfont icon-ico_calendar"></i>'
            str+= '            </div>'
            str+= '        </div>'
            str+= '    </div>'
            str+= '    <div class="selectColorBox">'
            str+= '        <div class="shopInpName">时间段背景颜色</div>'
            str+= '        <div class="colorList">'
            str+= '            <ul class="clear">'
            str+= '                <li class="optBorBlue">'
            str+= '                    <div class="blue"><i class="icon iconfont icon-ico_check optHide"></i></div>'
            str+= '                </li>'
            str+= '                <li class="">'
            str+= '                    <div class="qianLan"><i class="icon iconfont icon-ico_check optHide"></i></div>'
            str+= '                </li>'
            str+= '                <li class="">'
            str+= '                    <div class="red"><i class="icon iconfont icon-ico_check optHide"></i></div>'
            str+= '                </li>'
            str+= '                <li class="">'
            str+= '                    <div class="zise"><i class="icon iconfont icon-ico_check optHide"></i></div>'
            str+= '                </li>'
            str+= '                <li class="">'
            str+= '                    <div class="cheng"><i class="icon iconfont icon-ico_check optHide"></i></div>'
            str+= '                </li>'
            str+= '            </ul>'
            str+= '        </div>'
            str+= '    </div>'
            str+= '    <div class="delThisBox" onclick="delColor(this)">x</div>'
            str+= '</li>'
        var addLength = 0;
    function addClasses(){
        if(addLength<3){
            $('.layui-layer-content').css('height',$('.eidtTimeDuanBox').height()+$('.timeDuanList').height())
            $('#colorList').append(str)
            addLength++
        }else{
            layer.msg('最多一次添加四个')
        }
    }

    function delColor(dom){
        $(dom).parent('li').hide()
        addLength = addLength-1
    }
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="renderer" content="webkit">
    <title>医疗器械</title>
    <!--Bootstrap样式引入开始-->
    <link rel="stylesheet" href="../resource/css/bootstrap.min.css">
    <link href="../resource/js/plugins/bootstarp-table/css/bootstrap-table.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../resource/js/plugins/bootstrapzTree/bootstrapStyle.css" type="text/css">
    <link rel="stylesheet" href="../resource/js/plugins/bootstrap-select/css/bootstrap-select.min.css" type="text/css">
    <link href="../resource/css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css" rel="stylesheet">

    <!--Bootstrap样式引入结束-->
    <!--字体样式文件引用开始-->
    <link rel="stylesheet" href="../resource/fonts/iconfont.css">
    <!--字体样式文件引用结束-->
    <!--标签样式重置开始-->
    <link rel="stylesheet" href="../resource/css/reset.css">
    <link rel="stylesheet" href="../resource/css/style.css">
    <!--标签样式重置结束-->
    <!--公用组件样式-->
    <link rel="stylesheet" href="../resource/css/common.css">
    <!--公用组件样式结束-->
    <!--单页样式-->
    <link rel="stylesheet" href="../resource/css/yanjing/medical.css">
    <link rel="stylesheet" href="../resource/fonts/iconfont.css">
    <link rel="stylesheet" href="../resource/css/yanjing/companyManage.css">
    <link href="../resource/css/yanjing/mobiscroll.2.13.2.css" rel="stylesheet">
    <link href="../resource/css/yanjing/myDate.css" rel="stylesheet">
    <link rel="stylesheet" href="../resource/css/baiduMap.css">
    <script src="../resource/js/baiduMap.js"></script>
    <!--单页样式结束-->

    <style>
        .dwcc div.mbsc-w-p:nth-child(2) {
            display: none;
        }

        .dwwl3 {
            display: none;
        }

        .content1.bgcolor {
            background-color: #ECECF3;
        }

        #status::after {
            width: 12px;
            height: 12px;
            border-radius: 100px;
            background-color: rgba(255, 255, 255, 1);
            box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.1);
            position: absolute;
            right: 1px;
            top: 1px;
            bottom: 1px;
        }

        .mainGoodList {
            width: 100%;
            /*  height:  462px;
            overflow:  scroll;  */
            box-sizing: border-box;
            padding: 16px 16px;
            overflow: hidden;
            display: flex;
            justify-content: space-between;
            flex-flow: row wrap;
        }

        .goot-select {
            color: rgba(57, 57, 83, 1);
            width: 156px;
            font-weight: bold;
            font-size: 12px;
            line-height: 30px;
            font-family: PingFangSC-Semibold;
            flex: 0 0 156px;
            margin-bottom: 12px;
        }

        .goot-select1 {
            color: rgba(57, 57, 83, 1);
            width: 101px;
            font-weight: bold;
            font-size: 12px;
            line-height: 30px;
            font-family: PingFangSC-Semibold;
            flex: 0 0 101px;
            margin-bottom: 12px;
        }

        .goot-select.f1 {
            margin-bottom: 0px;
        }

        .goot-select-items {
            width: 100%;
            color: rgba(130, 130, 151, 1);
            height: 28px;
            line-height: 28px;
            padding: 0px 8px;
            overflow: hidden;
            border-radius: 2px;
            background-color: rgba(255, 255, 255, 1);
            border: 1px solid rgba(236, 236, 244, 1);
        }

        .goot-select-items.g1 {
            margin-top: 22.8px;
        }

        .goot-select-items span {
            font-size: 12px;
            float: left;
            font-weight: normal;
        }

        .goot-items {
            line-height: 17px;
            color: rgba(57, 57, 83, 1);
            font-size: 12px;
            text-align: left;
            font-family: PingFangSC-Semibold;
            margin-bottom: 6px;
        }

        .goot-items1 {
            line-height: 17px;
            font-size: 12px;
            text-align: left;
            font-family: PingFangSC-Semibold;
            margin-top: -1px;
            overflow: hidden;
        }

        .goot-items1 a {
            color: rgba(65, 134, 220, 1);
            text-decoration: underline;
        }

        .goot-select-items i {
            float: right;
            font-size: 16px;
            font-weight: normal;
        }

        .zhibaoTime {
            line-height: 16px;
            color: rgba(130, 130, 151, 1);
            font-size: 11px;
            text-align: left;
            font-family: Roboto-Bold;
            margin-top: 4px;
        }

        .goot-goot-putong {
            width: 100%;
            box-sizing: border-box;
            overflow: hidden;
            padding: 0px 16px;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
        }

        .goot-goot-putong li {
            line-height: 36px;
            color: rgba(57, 57, 83, 1);
            font-size: 12px;
            text-align: left;
            font-family: PingFangSC-Semibold;
            overflow: hidden;
        }


        .goot-goot-putong li .select {
            width: 16px;
            height: 16px;
            line-height: 16px;
            text-align: center;
            border-radius: 2px;
            padding: 0px 2px;
            background: #fff;
            border: 1px solid #d2d2d2;
            cursor: pointer;
        }

        .goot-goot-putong li .select:hover {
            border: 1px solid rgba(65, 134, 220, 1);
        }

        .goot-goot-putong li .select.active {
            background-color: rgba(65, 134, 220, 1);
        }

        .select i {
            font-size: 12px;
            color: rgba(255, 255, 255, 1);
            font-weight: normal;
        }

        .goot-goot-huiyuan .lingshou {
            width: 100%;
            box-sizing: border-box;
            padding: 0px 16px;
            line-height: 36px;
            box-shadow: 0px 1px 0px 0px rgba(130, 130, 151, 0.1);
            margin-top: 12px;
        }

        .zhekou {
            width: 100%;
            background-color: rgba(244, 244, 248, 1);
            padding: 0px 16px;
            overflow: hidden;
            line-height: 36px;
            box-shadow: 0px 1px 0px 0px rgba(130, 130, 151, 0.1);
        }

        .goot-left {
            float: left;
            color: rgba(130, 130, 151, 1);
            font-size: 12px;
            text-align: left;
            font-family: PingFangSC-Semibold;
        }

        .goot-Right {
            float: right;
            color: rgba(57, 57, 83, 1);
            font-size: 12px;
            font-family: PingFangSC-Semibold;
        }

        .yj-radio {
            width: 16px;
            height: 16px;
            float: left;
            margin-top: 10px;
            border-radius: 100px;
            background-color: rgba(244, 244, 248, 1);
            border: 1px solid rgba(130, 130, 151, 0.2);
            margin-right: 4px;
        }

        .yj-radio input {
            width: 0;
            height: 0;
        }

        .yj-radio.active {
            border: 5px solid rgba(65, 134, 220, 1);
        }

        .goot-Right a {
            color: rgba(65, 134, 220, 1);
            font-size: 12px;
            font-family: PingFangSC-Semibold;
            text-decoration: underline;
            margin-left: 4px;
        }

        .lingshou {
            width: 100%;
            box-sizing: border-box;
            overflow: hidden;
            display: flex;
            justify-content: space-between;
            flex-flow: row wrap;
            padding-top: 12px;
        }

        .lingshou.l1 {
            height: 56px;
        }

        #inNum {
            width: 156px;
            height: 28px;
            border-radius: 2px;
            background-color: rgba(255, 255, 255, 1);
            border: 1px solid rgba(236, 236, 244, 1);
            padding-left: 8px;
            color: rgba(57, 57, 83, 1);
            font-size: 12px;
        }

        #inNum::-webkit-input-placeholder {
            color: rgba(130, 130, 151, 1);
            font-size: 12px;
        }

        .useTime {
            width: 100%;
            box-sizing: border-box;
            margin-bottom: 16px;
        }

        .useTime div {
            height: 17px;
            line-height: 17px;
            color: rgba(57, 57, 83, 1);
            font-size: 12px;
            font-family: PingFangSC-Semibold;
            margin-bottom: 6px;
        }

        .useTime .uTime {
            width: 180px;
            box-sizing: border-box;
            padding: 5px 8px 6px 8px;
            height: 28px;
            border-radius: 2px;
            background-color: rgba(255, 255, 255, 1);
            border: 1px solid rgba(236, 236, 244, 1);
            overflow: hidden;
        }

        .useTime .uTime span {
            color: rgba(130, 130, 151, 1);
            font-size: 12px;
            font-family: Roboto-Medium;
            float: left;
        }

        .useTime .uTime i {
            float: right;
            font-size: 12px;
            color: rgba(130, 130, 151, 1);
        }

        .warnInput {
            width: 60px;
            height: 28px;
            border-radius: 2px;
            background-color: rgba(255, 255, 255, 1);
            border: 1px solid rgba(236, 236, 244, 1);
            padding-left: 8px;
        }

        /* 注册医疗信息 */
        .zhuceInfo {
            border: 1px solid #eee;
        }

        .zhuceInfo li {
            width: 100%;
            box-sizing: border-box;
            padding: 0px 16px;
            margin-bottom: 12px;
        }

        .zhuceInfo-first {
            width: 100%;
            height: 36px;
            line-height: 36px;
            background-color: rgba(255, 255, 255, 1);
            overflow: hidden;
            color: rgba(221, 91, 75, 1);
            font-size: 12px;
            box-shadow: 0px 1px 0px 0px rgba(244, 244, 248, 1), 0px -1px 0px 0px rgba(244, 244, 248, 1);
        }

        .zhuceInfo-first i {
            color: rgba(221, 91, 75, 1);
            font-size: 12px;
            text-align: left;
            float: right;
            font-family: PingFangSC-Semibold;
        }

        .zhuceInfo-items {
            float: left;
        }

        .zhucehao div {
            margin-top: 12px;
        }

        .zhucehao div,
        .zhucehao .zhucehao2 .guoxie {
            color: rgba(57, 57, 83, 1);
            font-size: 12px;
            font-family: PingFangSC-Semibold;
        }

        .zhucehao2 .guoxie {
            display: inline-block;
            width: 64px;
            height: 28px;
            line-height: 28px;
            text-align: center;
            border-radius: 2px;
            background-color: rgba(255, 255, 255, 1);
            border: 1px solid rgba(236, 236, 244, 1);
        }

        .guoInput {
            width: 92px;
            height: 28px;
            padding-left: 8px;
        }

        .guoInput::-webkit-input-placeholder {
            color: rgba(130, 130, 151, 1);
            font-size: 12px;
            font-family: PingFangSC-Medium;
        }

        .zhuceUl li {
            padding: 0px;
        }

        .guoxie {
            display: inline-block;
            width: 64px;
            height: 28px;
            line-height: 27px;
            text-align: center;
            border-radius: 2px;
            background-color: rgba(255, 255, 255, 1);
            border: 1px solid rgba(236, 236, 244, 1);
            border-right: none;
            float: left;
            vertical-align: top;
        }

        .guoInput {
            border: 1px solid rgba(236, 236, 244, 1);
            border-radius: 2px;
        }

        .guoTime {
            width: 156px;
            line-height: 26px;
            border-radius: 2px;
            background-color: rgba(255, 255, 255, 1);
            overflow: hidden;
            border: 1px solid rgba(236, 236, 244, 1);
            padding: 0px 8px;
            font-size: 12px;
            text-align: left;
            color: rgba(130, 130, 151, 1);
        }

        .guoTime i {
            float: right;
            font-size: 12px;
            font-family: PingFangSC-Medium;
        }

        .guoxieLast div {
            color: rgba(57, 57, 83, 1);
            font-size: 12px;
            text-align: left;
            font-family: PingFangSC-Medium;
            line-height: 17px;
        }

        .guoxieLast div span {
            color: rgba(130, 130, 151, 1);
            font-family: Roboto-Medium;
        }

        .guoImgs {
            width: 101px;
            height: 101px;
            border-radius: 2px;
            overflow: hidden;
            border: 1px solid #eee;
            margin-top: 6px;
        }

        .qiyeLists {
            width: 100%;
            overflow: hidden;
            box-sizing: border-box;
            padding: 8px 16px 8px 16px;
        }

        .daoqiWarn {
            width: 100%;
            height: 32px;
            line-height: 32px;
            border-radius: 2px;
            background-color: rgba(221, 91, 75, 0.1);
            border: 1px solid rgba(221, 91, 75, 0.1);
            color: rgba(221, 91, 75, 1);
            font-size: 12px;
            font-family: PingFangSC-Semibold;
            overflow: hidden;
            padding: 0px 8px;
            margin-bottom: 8px;
        }

        .daoqiWarn .warnLeft {
            float: left;
        }

        .warn1 {
            padding-bottom: 6px;
        }

        .warnLeft i {
            vertical-align: middle;
        }

        .warnRight {
            float: right;
        }

        /* 新增企业 */
        .proNames {
            width: 156px;
            height: 28px;
            border-radius: 2px;
            font-size: 12px;
            font-weight: normal;
            background-color: rgba(255, 255, 255, 1);
            border: 1px solid rgba(236, 236, 244, 1);
            padding-left: 8px;
        }

        .proNames::-webkit-input-placeholder {
            color: rgba(130, 130, 151, 1);
            font-size: 12px;
            text-align: left;
            font-family: PingFangSC-Medium;
        }

        .showAddress {
            width: 100%;
            height: 28px;
            line-height: 28px;
            border-radius: 2px;
            background-color: rgba(255, 255, 255, 1);
            border: 1px solid rgba(236, 236, 244, 1);
            box-sizing: border-box;
            overflow: hidden;
            padding-left: 8px;
            color: rgba(57, 57, 83, 1);
            font-size: 12px;
            text-align: left;
            font-family: PingFangSC-Medium;
            margin-bottom: 12px;
        }

        .yingyeTu {
            line-height: 17px;
            color: rgba(57, 57, 83, 1);
            font-size: 12px;
            text-align: left;
            font-family: PingFangSC-Semibold;
            margin-bottom: 6px;
        }

        .img1 {
            width: 101px;
            height: 101px;
            border-radius: 2px;
            overflow: hidden;
        }

        .selectPro {
            vertical-align: sub;
        }

        .goot-goot-putong.s1 {
            border-bottom: 1px solid #eee;
        }

        .mainGoodList.m1 {
            padding: 11px 16px;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
        }

        /* 改变按钮样式 */
        .my-skin .layui-layer-btn a {
            background-color: rgba(130, 130, 151, 0.1);
            color: rgba(130, 130, 151, 1);
            border-color: rgba(236, 236, 244, 1);
        }

        /* 员工列表 */
        .yuangongUl {
            width: 100%;
            box-sizing: border-box;
            padding: 16px 16px 16px 16px;
            border-radius: 2px;
        }

        .yuangongUl li {
            width: 100%;
            overflow: hidden;
            border: 1px solid #eee;
            white-space: nowrap;
        }

        .yuangongUl .first {
            background-color: rgba(130, 130, 151, 0.1);
        }

        .yuangongUl .hideBorder .others {
            width: 100%;
            padding: 0px 12px;
            line-height: 28px;
            background-color: rgba(255, 255, 255, 1);
            overflow: hidden;
            color: rgba(130, 130, 151, 1);
            font-size: 12px;
            font-family: PingFangSC-Medium;
            border: 1px solid #eee;
            border-top: 0px;
        }

        .yuangongUl .others .yuanLeft {
            float: left;
        }

        .yuangongUl .others .yuanRight {
            float: right;
        }

        .ygList1,
        .ygList2,
        .ygList3,
        .ygList4,
        .ygList5 {
            display: inline-block;
            height: 36px;
            line-height: 36px;
            padding-left: 12px;
            background-color: rgba(255, 255, 255, 0);
            color: rgba(130, 130, 151, 1);
            font-size: 12px;
            text-align: left;
            font-family: PingFangSC-Medium;
        }

        .ygList1 {
            width: 120px;
        }

        .ygList2 {
            width: 120px;
        }

        .ygList3 {
            width: 80px;
        }

        .ygList4 {
            width: 128px;
        }

        .ygList5 {
            width: 240px;
        }

        .showYuanList {
            border: 1px solid #eee;
            border-top: 0px;
        }

        .showYuanList li {
            border: 0px;
        }

        .showYuanList li .ygList1,
        .showYuanList li .ygList2,
        .showYuanList li .ygList3,
        .showYuanList li .ygList4,
        .showYuanList li .ygList5 {
            color: rgba(57, 57, 83, 1);
            font-size: 12px;
            text-align: left;
            font-family: PingFangSC-Medium;
        }

        .yuangongUl .hideBorder {
            border: 0px;
        }

        /* 员工列表(培训记录) */
        .pxInput {
            width: 100%;
            box-sizing: border-box;
            padding: 0px 16px;
            margin-top: -17px;
        }

        .pxDanwei {
            line-height: 17px;
            color: rgba(57, 57, 83, 1);
            font-size: 12px;
            text-align: left;
            font-family: PingFangSC-Semibold;
        }

        .pxIn {
            width: 328px;
            height: 80px;
            border-radius: 2px;
            background-color: rgba(255, 255, 255, 1);
            border: 1px solid rgba(236, 236, 244, 1);
            padding-top: 5px;
            padding-left: 8px;
            color: rgba(57, 57, 83, 1);
            font-family: PingFangSC-Medium;
            resize: none;
            margin-top: 6px;
            margin-bottom: 12px;
        }

        .beizhu {
            width: 328px;
            height: 28px;
            border-radius: 2px;
            background-color: rgba(255, 255, 255, 1);
            border: 1px solid rgba(236, 236, 244, 1);
            color: rgba(57, 57, 83, 1);
            margin-top: 6px;
            padding-left: 8px;
        }

        .beizhu::-webkit-input-placeholder {
            color: rgba(130, 130, 151, 1);
        }

        /* 出库记录 */
        .ckReload {
            background-color: rgba(236, 236, 244, 1);
            padding-bottom: 12px;
        }

        .ckReload li {
            float: left;
            height: 52px;
            line-height: 52px;
            margin-right: 24px;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
            border: none;
            color: rgba(130, 130, 151, 1);
            font-size: 12px;
            font-weight: 600;
            text-align: left;
            font-family: PingFangSC-Semibold;
        }

        .ckReload li.active {
            color: rgba(57, 57, 83, 1);
            border-bottom: 2px solid #393953;
        }

        .ckReload li:hover {
            border-bottom: 2px solid #393953;
        }

        .content3_1,
        .content3_2,
        .content3_3 {
            display: none;
        }

        .content3_1.active,
        .content3_2.active,
        .content3_3.active {
            display: block;
        }

        /* 需要补充说明商品 */
        #table2 {
            display: none;
        }

        /* 顶部 */
        .btn1,
        .btn2 {
            display: inline-block;
            width: 64px;
            padding: 0px 6px;
            line-height: 28px;
            border-radius: 2px;
            font-size: 12px;
            text-align: center;
            vertical-align: middle;
        }

        .btn1 {
            color: rgba(65, 134, 220, 1);
            border: 1px solid rgba(65, 134, 220, 0.1);
            text-align: left;
            font-family: PingFangSC-Semibold;
            background-color: rgba(65, 134, 220, 0.1);
            margin-right: 11px;
        }

        .btn2 {
            color: rgba(87, 184, 219, 1);
            text-align: left;
            font-family: PingFangSC-Semibold;
            background-color: rgba(87, 184, 219, 0.1);
            border: 1px solid rgba(87, 184, 219, 0.1);
            margin-right: 20px;
        }

        .btn.b1 {
            height: 28px;
        }

        .addbtn {
            display: inline-block;
            width: 64px;
            line-height: 28px;
            border-radius: 2px;
            background-color: rgba(65, 134, 220, 1);
            color: rgba(255, 255, 255, 1);
            font-size: 12px;
            font-family: PingFangSC-Semibold;
            text-align: center;
            vertical-align: middle;
            margin-left: 10px;
        }

        /* 所有商品中的验收结果样式 */
        .yanResult {
            display: inline-block;
            width: 45px;
            line-height: 18px;
            border-radius: 2px;
            color: rgba(130, 130, 151, 1);
            background-color: rgba(244, 244, 248, 1);
            text-align: center;
        }

        .yanResult.active {
            color: #fff;
            background-color: rgba(65, 134, 220, 1);
        }

        /* 弹窗头部 */
        .toastHead {
            width: 100%;
            height: 44px;
            line-height: 44px;
            box-sizing: border-box;
            padding: 0px 16px;
            color: rgba(57, 57, 83, 1);
            font-size: 13px;
            font-weight: 600;
            font-family: PingFangSC-Semibold;
            background-color: rgba(255, 255, 255, 1);
            box-shadow: 0px 1px 0px 0px rgba(236, 236, 244, 1);
            overflow: hidden;
        }

        #addPopupName {
            float: left;
            cursor: move;
            width: 70%;
        }

        #removeStaff {
            float: right;
            color: rgba(130, 130, 151, 1);
            font-size: 12px;
        }

        #status1 {
            display: inline-block;
            width: 24px;
            height: 16px;
            border-radius: 100px;
            background-color: rgba(130, 130, 151, 0.3);
            position: relative;
            vertical-align: middle;
            margin-left: 6px;
            cursor: pointer;
        }

        #status1::after {
            content: ' ';
            width: 12px;
            height: 12px;
            border-radius: 100px;
            background-color: rgba(255, 255, 255, 1);
            box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.1);
            position: absolute;
            left: 2px;
            top: 2px;
            bottom: 2px;
        }

        #status1.active {
            background-color: rgba(65, 134, 220, 1);
        }

        #status1.active::after {
            left: inherit;
            right: 2px;
        }

        /* 企业列表弹窗头部 */
        .qyHeader {
            width: 100%;
            height: 44px;
            line-height: 44px;
            box-sizing: border-box;
            padding: 0px 16px;
            color: rgba(57, 57, 83, 1);
            font-size: 13px;
            font-weight: 600;
            font-family: PingFangSC-Semibold;
            background-color: rgba(255, 255, 255, 1);
            box-shadow: 0px 1px 0px 0px rgba(236, 236, 244, 1);
            overflow: hidden;
        }

        #qyList1,
        #ygLi1 {
            float: left;
        }

        #qyList2 {
            float: right;
            width: 64px;
            height: 28px;
            line-height: 28px;
            border-radius: 2px;
            text-align: center;
            color: #fff;
            background-color: rgba(65, 134, 220, 1);
            font-size: 12px;
            font-weight: normal;
            margin-top: 8px;
        }

        #ygLi2,
        #ygLi3 {
            float: right;
            width: 64px;
            height: 28px;
            line-height: 28px;
            text-align: center;
            border-radius: 2px;
            font-size: 13px;
            font-weight: normal;
            margin-top: 8px;
        }

        #ygLi2 {
            background-color: rgba(87, 184, 219, 0.1);
            border: 1px solid rgba(87, 184, 219, 0.1);
            color: rgba(87, 184, 219, 1);
            margin-left: 11px;
        }

        #ygLi3 {
            background-color: rgba(65, 134, 220, 0.1);
            border: 1px solid rgba(65, 134, 220, 0.1);
            color: rgba(65, 134, 220, 1);
        }

        /* 体检记录弹窗头部 */
        .ygDetail1 {
            float: left;
            color: rgba(57, 57, 83, 1);
            font-size: 13px;
            text-align: left;
            font-family: PingFangSC-Semibold;
        }

        .ygDetail2,
        .ygDetail3 {
            float: right;
            height: 28px;
            text-align: left;
            line-height: 28px;
            border-radius: 2px;
            background-color: rgba(255, 255, 255, 1);
            border: 1px solid rgba(236, 236, 244, 1);
            color: rgba(57, 57, 83, 1);
            font-size: 12px;
            font-weight: normal;
            font-family: PingFangSC-Medium;
            overflow: hidden;
            margin-top: 8px;
            padding: 0px 8px;
        }

        .ygDetail2 {
            width: 156px;
            margin-right: 8px;
        }

        .ygDetail2 i {
            float: right;
            color: rgba(130, 130, 151, 1);
        }

        .ygDetail3 {
            width: 76px;
        }

        .ygDetail3 i {
            float: right;
            color: rgba(130, 130, 151, 1);
        }

        .checksc {
            display: block;
        }


        .icon10 {
            position: relative;
            left: 135px;
            top: -24px;
        }

        .icon11 {
            position: relative;
            left: 132px;
            top: -22px;
            font-size: 16px;
            color: #828297;
        }

        .uploadPic.n1 {
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
        }

        .t1 {
            line-height: 28px;
        }

        .qyshow1 {
            display: none;
        }

        .qyshow2 {
            display: none;
        }

        .s1 {
            border-top: 1px solid #eee;
        }

        .selectBox {
            width: 156px;
            height: 28px;
            line-height: 28px;
        }

        .optionBox .optionUL .optionItems {
            width: 100%;
            height: 28px;
            line-height: 28px;
        }

        .addGoods.layui-layer .layui-layer-title {
            padding: 0;
        }

        #dayNum {
            border: none;
        }

        .dhNum {
            width: 156px;
            padding-left: 8px;
            height: 28px;
            border-radius: 2px;
            background-color: rgba(255, 255, 255, 1);
            border: 1px solid rgba(236, 236, 244, 1);
            color: rgba(57, 57, 83, 1);
            font-size: 12px;
            text-align: left;
            font-family: Roboto-Medium;
        }

        .iconfont {
            font-weight: normal;
        }

        .zcImg {
            display: inline-block;
            width: 101px;
            text-align: center;
            line-height: 101px;
            border-radius: 2px;
            background-color: rgba(244, 244, 248, 1);
            border: 1px solid rgba(236, 236, 244, 1);
            margin-top: 6px;
        }

        .goods-range-body {
            width: 100%;
            height: 17px;
            line-height: 17px;
            color: rgba(65, 134, 220, 1);
            font-size: 12px;
            cursor: pointer;
            font-family: PingFangSC-Semibold;
            text-decoration: underline;
        }

        /* 设置现货范围 */
        .range-header {
            height: 40px;
            line-height: 40px;
        }

        .range-header div {
            float: left;
            font-size: 12px;
            font-family: PingFangSC-Medium;
        }

        .range-header em {
            width: 12px;
            height: 12px;
            border-radius: 1px;
            float: left;
            margin-top: 14px;
            margin-right: 6px;
        }

        .now-goods-range {
            color: rgba(65, 134, 220, 1);
        }

        .now-goods-range em {
            background-color: rgba(65, 134, 220, 0.1);
            border: 1px solid rgba(65, 134, 220, 0.2);
        }

        .dingzhi-range {
            margin-left: 16px;
            color: #DD5B4B;
        }

        .dingzhi-range em {
            background-color: rgba(221, 91, 75, 0.1);
            border: 1px solid rgba(221, 91, 75, 0.2);
        }

        .yj-layui-table-header {
            position: relative;
            width: 60px;
            height: 36px;
        }

        .yj-layui-table-header > span:first-of-type {
            position: absolute;
            top: 0;
            right: 7px;
        }

        .yj-layui-table-header > span:last-of-type {
            position: absolute;
            bottom: 0;
            left: 7px;
        }

        .yj-layui-table-header:after {
            content: "";
            display: block;
            width: 70px;
            height: 1px;
            position: absolute;
            transform: rotate(31deg);
            bottom: 18px;
            left: -5px;
            background: #ECECF4;
        }

        .guoxieLast .imgBox {
            width: 100px;
            height: 100px;
            float: left;
            overflow: hidden;
            border-radius: 2px;
            margin-right: 8px;
            margin-top: 6px;
            position: relative;
        }

        /*新加样式*/
        .guoTime.g1 {
            margin-top: 2px;
        }

        .tjHeader {
            width: 100%;
            height: 44px;
            line-height: 44px;
            box-sizing: border-box;
            padding: 0px 8px 0px 16px;
            background-color: rgba(255, 255, 255, 1);
            box-shadow: 0px 1px 0px 0px rgba(236, 236, 244, 1);
            font-size: 13px;
            color: #393953;
            font-family: PingFangSC-Semibold;
            clear: both;
        }

        .tjLeft {
            float: left;
            font-weight: 600;
        }

        .tjRight {
            float: right;
        }

        .selectBox.tj3 {
            width: 76px;
        }

        .selectBox.tj2,
        .selectBox.tj3 {
            vertical-align: middle;
        }

        .clearfix:after {
            content: "020";
            display: block;
            height: 0;
            clear: both;
            visibility: hidden;
        }

        .clearfix {
            zoom: 1;
        }

        .my-skin1 .layui-layer-btn .layui-layer-btn0,
        .my-skin1 .layui-layer-btn .layui-layer-btn1 {
            width: 44px;
            height: 32px;
            padding: 0px;
            text-align: center;
            border-radius: 2px;
            font-size: 12px;
            font-family: PingFangSC-Semibold;
        }

        .my-skin1 .layui-layer-btn .layui-layer-btn1 {
            background-color: rgba(65, 134, 220, 1);
            color: rgba(255, 255, 255, 1);
            margin-left: 8px;
        }

        .my-skin1 .layui-layer-btn .layui-layer-btn0 {
            background-color: rgba(244, 244, 248, 1);
            border: 1px solid rgba(236, 236, 244, 1);
            color: rgba(130, 130, 151, 1);
        }

        .duoXuans {
            display: inline-block;
            vertical-align: middle;
            width: 16px;
            height: 16px;
            padding: 0px 2px;
            line-height: 16px;
            text-align: center;
            border-radius: 2px;
            background-color: #F4F4F8;
            border: 1px solid rgba(130, 130, 151, 0.2);
            cursor: pointer;
            font-weight: normal;
        }

        .duoXuans i {
            display: none;
            font-size: 12px;
            color: #fff;
        }

        .duoXuans.active i {
            display: inline-block;
        }

        .duoXuans.active {
            background-color: rgba(65, 134, 220, 1);
        }

        .ygList1,
        .ygList2 {
            width: 120px;
        }

        .ygList4 {
            width: 128px;
        }

        .ygList5 {
            width: 240px;
        }

        .ygList1,
        .ygList2,
        .ygList3,
        .ygList4,
        .ygList5 {
            text-overflow: ellipsis;
            overflow: hidden;
        }

        .winFooterBox {
            background-color: #fff;
            width: 100%;
            overflow: hidden;
            text-align: left;
        }

        #numLen {
            display: inline-block;
            line-height: 34px;
            color: rgba(130, 130, 151, 1);
            font-size: 12px;
            text-align: left;
            font-family: Roboto-Medium;
            padding-left: 10px;
        }

        .winFooterLast {
            float: right;
        }

        .btnPreservation, .btnSubmission {
            display: inline-block;
            width: 68px;
            text-align: center;
            line-height: 32px;
            border-radius: 2px;
            font-size: 12px;
            font-family: PingFangSC-Semibold;
        }

        .btnSubmission {
            background-color: rgba(244, 244, 248, 1);
            border: 1px solid rgba(236, 236, 244, 1);
            color: rgba(130, 130, 151, 1);
        }

        .btnPreservation {
            background-color: rgba(65, 134, 220, 1);
            color: rgba(255, 255, 255, 1);
            margin-left: 6px;
        }

        /*首页底部*/
        .showShouyeFooter {
            display: none;
            position: fixed;
            bottom: 0;
            right: 0;
            width: 100%;
            height: 52px;
            line-height: 52px;
            background-color: #fff;
            padding: 0px 12px 0px 16px;
        }

        .xuanZhongXiang {
            color: rgba(130, 130, 151, 1);
            font-size: 12px;
            text-align: left;
            font-family: PingFangSC-Medium;
        }

        .xuanRight {
            float: right;
        }

        .quXiaoXuanZhong, .shenHeTongguo, .piLiangDaYin {
            display: inline-block;
            width: 84px;
            height: 36px;
            line-height: 36px;
            border-radius: 2px;
            font-size: 13px;
            text-align: center;
            font-family: PingFangSC-Semibold;
            margin-left: 8px;
        }

        .quXiaoXuanZhong {
            background-color: rgba(244, 244, 248, 1);
            border: 1px solid rgba(236, 236, 244, 1);
            color: rgba(130, 130, 151, 1);
        }

        .piLiangDaYin {
            background-color: rgba(65, 134, 220, 0.1);
            border: 1px solid rgba(65, 134, 220, 0.1);
            color: rgba(65, 134, 220, 1);

        }

        .shenHeTongguo {
            background-color: rgba(65, 134, 220, 1);
            color: rgba(255, 255, 255, 1);
        }

        #select-time-header {
            width: 180px;
            height: 32px;
            border-right: 2px solid #eee;
        }
        #select-time-header .yj-demo-time {
            height: 100%;
        }

        #select-time-header .yj-demo-time .yj-date {
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0);
            box-shadow: 1px 0px 0px 0px rgba(236, 236, 244, 1);
        }
        .xiaoShouShenHe {
            display: inline-block;
            width: 45px;
            height: 18px;
            line-height: 18px;
            text-align: center;
            border-radius: 2px;
            background-color: rgba(244, 244, 248, 1);
            color: rgba(130, 130, 151, 1);
            font-size: 11px;
            font-family: PingFangSC-Semibold;
        }
        .xiaoShouShenHe.suc {
            background-color: #4186DC;
            color: #fff;
        }
    </style>
</head>

<body class="body-bg">
<div class="header clear">
    <ul class="tab-ul clear">
        <li class="active">产品列表</li>
        <li>入库记录</li>
        <li>出库记录</li>
    </ul>
    <ol class="clear">
        <li class="right-info active">
            <span class="btn1" onclick="proLists()">企业列表</span>
            <span class="btn2" onclick="employList()">员工列表</span>
            <input type="search" class="search-box" placeholder="搜索生产批号">
            <span class="addbtn" onclick="addGoods()">新增商品</span>
        </li>
    </ol>
</div>
<div id="second-bar">
    <div id="select-time-header">
        <div class="yj-demo-time">
            <div class="yj-date">
                <span>开始时间-结束时间</span><i class="iconfont icon-ico_calendar"></i>
            </div>
        </div>
    </div>
</div>
<div class="content1 tab-item active bgcolor">
    <div class="warn1">
        <div class="daoqiWarn" onclick="warnSP()">
                <span class="warnLeft">
                    <i class="iconfont icon-ico_contact_lens "></i>
                    有 <span class="notBuChongNum"></span> 家企业证件有效期到期
                </span>
            <i class="iconfont icon-ico_arrow_right warnRight"></i>
        </div>
    </div>
    <div id="table1">
        <table id="xsjl-table" data-toggle="table" class="table table-border"></table>
    </div>
    <div id="table2">
        <table id="xsjl-table1" data-toggle="table" class="table table-border"></table>
    </div>
</div>
<div class="content2 tab-item">
    <table id="rkjl-table" data-toggle="table" class="table table-border"></table>
</div>
<div class="content3 tab-item">
    <ul class="ckReload clear">
        <li class="active">销售记录</li>
        <li>退货记录</li>
        <li>销毁记录</li>
    </ul>
    <div class="content3_1 tab-items active">
        <table id="xsReload-table" data-toggle="table" class="table table-border"></table>
    </div>
    <div class="content-view"></div>
</div>

<!--员工列表体检/培训记录弹窗-->
<div class="content-view content-view-tjReload" id="ygTjReloadList1">
</div>
<!-- 企业列表 -->
<div class="content-view content-view-proLists">
    <div class="qyHeader">
        <span id="qyList1">所有企业</span>
        <span id="qyList2" onclick="addPros(false)">新增企业</span>
    </div>
    <div class="qiyeLists">
        <div class="daoqiWarn" onclick="cardGuoqi()">
                <span class="warnLeft">
                    <i class="iconfont icon-ico_contact_lens "></i>
                    有 <span class="daoNum"></span> 家企业证件有效期到期
                </span>
            <i class="iconfont icon-ico_arrow_right warnRight"></i>
        </div>
        <table id="qyxx-table" data-toggle="table" class="table table-border"></table>

    </div>
</div>

<!--企业详细弹窗-->
<div class="content-view content-view-shopDes" id="shopDom">

</div>

<!--新增镜片-->
<div class="content-view  content-view-addgoods" id="addGoodsDom">

</div>

<!-- 员工列表 -->
<div class="content-view content-view-employList">
    <div class="qyHeader">
        <span id="ygLi1">所有员工</span>
        <span id="ygLi2" onclick="tjReload(id)">培训记录</span>
        <span id="ygLi3" onclick="tjReload(id)">体检记录</span>
    </div>
    <ul class="yuangongUl" id="yuangongList1">
    </ul>
</div>
<!-- 证件有效期到期弹窗 -->
<div class="content-view content-view-cardGuoqi">
    <table id="zjdq-table" data-toggle="table" class="table table-border"></table>
</div>
<!--全局JS引用-->
<form style="opacity: 0" action="" id="uploadForm" autocomplete="off" enctype="multipart/form-data">
    <input style="height: 0;width: 0;" type="file" name="file"
           accept="image/jpeg，image/jpg，image/png,image/jp2，image/jpe" multiple="multiple"/>
</form>
<script src="../resource/js/jquery.min.js"></script>
<script src="../resource/js/bootstrap.js?v=3.3.6"></script>
<script src="../resource/js/plugins/bootstarp-table/js/bootstrap-table.js"></script>
<script src="../resource/js/plugins/bootstarp-table/js/bootstrap-table-zh-CN.min.js"></script>
<script src="../resource/js/plugins/layer/layer.js"></script>
<script src="../resource/layui/layui.js"></script>
<script src="../resource/js/yanjing/mobiscroll.2.13.2.js"></script>
<!--//日期范围插件开始-->
<script src="../resource/js/yanjing/daterange.js"></script>
<!--//日期范围插件结束-->
<script src="../resource/js/lib/quakooLib/QuakooBase-1.0.0.js"></script>
<script src="../resource/js/lib/quakooLib/QuakooConfig-1.0.0.js"></script>
<script src="../resource/js/lib/quakooLib/QuakooBasePc-1.0.0.js"></script>
<script src="../resource/js/lib/quakoo/Config.js"></script>
<script src="../resource/js/lib/quakoo/project.js"></script>
<script src="../resource/common/common.js?" +Math.random()></script>
<script src="../resource/js/template-native.js"></script>
<script src="../resource/js/yanjing/yanjing.js"></script>
<script src="../resource/js/yanjing/mobiscroll.2.13.2.js"></script>
<script src="../resource/js/yanjing/daterange.js"></script>
<script src="../resource/js/area/areaUtils.js"></script>
<script type="text/html" id="shopTmp">
    <div class="shopMsg">
        <ul class="clearfix">
            <li class="clearfix">
                <p class="title">企业名称</p>
                <input type="text" value="<%=list.name%>" id="qysname" placeholder="名称">
            </li>
            <li>
                <p class="title">联系人</p>
                <input type="text" value="<%=list.userName%>" id="lxsname" placeholder="输入">
            </li>
            <li>
                <p class="title">联系电话</p>
                <input type="number" value="<%=list.phone%>" id="lxphone" placeholder="电话">
            </li>
            <li>
                <p class="title">经营范围</p>
                <div id="select1" class="selectBox">
                    <span class="select-box-header">
                        <span class="text">
                            <%if(list.range){%>
                                <%=list.range%>
                            <%}else{%>
                                经营范围
                            <%}%>
                        </span>
                        <i class="iconfont icon-ico_arrow_down"></i>
                    </span>
                    <div class="optionBox">
                        <ul class="optionUL" id="option1">
                        </ul>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <div class="address">
        <p class="title">详细地址</p>
        <!--<div class="mapDiv" id="mapDiv"></div>-->
        <div class="inputBox">
            <div class="selectBox" id="province">
                <div class="select-box-header">
                    <%if(list.provinceName){%>
                    <span class="text"><%=list.provinceName%></span> <i class="iconfont icon-ico_arrow_down"></i>
                    <%}else{%>
                    <span class="text t1">选择省</span> <i class="iconfont icon-ico_arrow_down t1"></i>
                    <%}%>
                </div>
                <div class="optionBox">
                    <ul class="optionUL">
                        <%for(var i in oneArea){%>
                        <li value="<%=oneArea[i].id%>"><%=oneArea[i].name%></li>
                        <%}%>
                    </ul>
                </div>
            </div>
            <div class="selectBox" id="city">
                <div class="select-box-header">
                    <%if(list.cityName){%>
                    <span class="text"><%=list.cityName%></span> <i
                        class="iconfont icon-ico_arrow_down"></i>
                    <%}else{%>
                    <span class="text t1">选择市</span> <i class="iconfont icon-ico_arrow_down t1"></i>
                    <%}%>
                </div>
                <%if(twoArea.length>0){%>
                <div class="optionBox">
                    <ul class="optionUL">
                        <%for(var i in twoArea){%>
                        <li value="<%=twoArea[i].id%>"><%=twoArea[i].name%></li>
                        <%}%>
                    </ul>
                </div>
                <%}%>
            </div>
            <div class="selectBox" id="area" style="width: 32%">
                <div class="select-box-header">
                    <%if(list.areaName){%>
                    <span class="text"><%=list.areaName%></span>
                    <i class="iconfont icon-ico_arrow_down"></i>
                    <%}else{%>
                    <span class="text t1">选择区/县</span>
                    <i class="iconfont icon-ico_arrow_down t1"></i>
                    <%}%>
                </div>
                <%if(threeArea.length>0){%>
                <div class="optionBox">
                    <ul class="optionUL">
                        <%for(var i in threeArea){%>
                        <li value="<%=threeArea[i].id%>"><%=threeArea[i].name%></li>
                        <%}%>
                    </ul>
                </div>
                <%}%>
            </div>
        </div>
        <input type="text" placeholder="请输入具体门牌号" id="address"
               value="<%=list.address%>">
    </div>
    <div class="shopMsg">
        <ul class="clearfix">
            <li>
                <p class="title">营业执照编号</p>
                <input type="number" value="<%=list.phone%>" id="yybh" placeholder="营业执照编号">
            </li>
            <li>
                <p class="title">发证日期</p>
                <div>

                    <input name="test" id="startTime1"
                           value="<%if(list.comBusinessDate){%><%=getYMDTime(list.comBusinessDate)%><%}%>"
                           class="demo-test-date demo-test-datetime demo-test-time demo-test-credit"
                           placeholder="发证日期"
                           data-type="day"/>
                    <i class="icon iconfont icon-ico_calendar icon10"></i>
                    <div class="settings" style="display:none;">
                        <select name="demo" id="demo01">
                            <option value="date">日期</option>
                        </select>
                    </div>
                </div>
            </li>
            <li>
                <p class="title">有效日期</p>
                <div class="yj-demo-time">
                    <div class="yj-date">
                        <span>
                            <%if(list.comBusinessDateStart){%><%=getYMDTime(list.comBusinessDateStart)%>-<%=getYMDTime(list.comBusinessDateEnd)%><%}else{%>开始时间-结束时间<%}%>
                        </span>
                        <i class="iconfont icon-ico_calendar"></i>
                    </div>
                </div>
            </li>
        </ul>
    </div>

    <div class="uploadPic">
        <p class="title">营业执照照片</p>
        <div class="cont layui-upload" style="overflow: hidden" class="imgBox" id="yyImg">
            <%if(list.storeImg){%>
            <%for(var i=0;i< list.storeImg.length;i++){%>
            <div class="imgBox">
                <img src="<%=list.storeImg[i]%>"
                     real-src="<%=list.storeImg[i]%>"
                     style="width: 100%;height: 100%" alt="">
                <div class="del" onclick="delImg(this)"></div>
            </div>
            <%}%>
            <%}%>
            <span onclick="uploadIcon(this)" class="layui-btn test2">
                <i class="icon iconfont icon-ico_plus"></i>
            </span>
        </div>
    </div>
    <ul class="goot-goot-putong s1">
        <li><input type="checkbox" name="生产商" value="" id="shcheck1"
                   onclick="shows1(this)" class="selectPro <%if(isCheck(list.manufacturerProvider,1)){%>" checked><%}else{%>"><%}%>
            该企业为生产商
        </li>
    </ul>
    <div class="qyshow1 <%if(isCheck(list.manufacturerProvider,1)){%>" style="display: block"><%}else{%>"><%}%>
        <div class="shopMsg">
            <ul class="clearfix">
                <li>
                    <p class="title">医疗器械注册证编号</p>
                    <input type="number" value="<%=list.phone%>" id="ylnum"
                           placeholder="医疗器械注册证编号" value="<%=list.mfNum%>">
                </li>
                <li>
                    <p class="title">批准日期</p>
                    <div>

                        <input name="test" id="startTime2"
                               class="demo-test-date demo-test-datetime demo-test-time demo-test-credit"
                               placeholder="<%if(list.mfRegisterDate){%><%=getYMDTime(list.mfRegisterDate)%><%}else{%>批准日期<%}%>"
                               value="<%if(list.mfRegisterDate){%><%=getYMDTime(list.mfRegisterDate)%><%}else{%>批准日期<%}%>"
                               data-type="day"/>
                        <i class="icon iconfont icon-ico_calendar icon10"></i>
                        <div class="settings" style="display:none;">
                            <select name="demo" id="demo03">
                                <option value="date">日期</option>
                            </select>
                        </div>
                    </div>
                </li>
                <li>
                    <p class="title">有效日期</p>
                    <div id="time02">
                        <div class="yj-demo-time">
                            <div class="yj-date">
                                <span>
                                    <%if(list.mfRegisterDateStart){%><%=getYMDTime(list.mfRegisterDateStart)%>-<%=getYMDTime(list.mfRegisterDateEnd)%><%}else{%>开始时间-结束时间<%}%>
                                </span><i class="iconfont icon-ico_calendar"></i>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <div class="uploadPic">
            <p class="title">医疗器械注册证照片</p>
            <div class="cont layui-upload" style="overflow: hidden" class="imgBox" id="ylImg">
                <%if(list.mfRegisterImg){%>
                <%for(var i=0;i< list.mfRegisterImg.length;i++){%>
                <div class="imgBox">
                    <img src="<%=list.mfRegisterImg[i]%>"
                         real-src="<%=list.mfRegisterImg[i]%>"
                         style="width: 100%;height: 100%" alt="">
                    <div class="del" onclick="delImg(this)"></div>
                </div>
                <%}%>
                <%}%>
                <span onclick="uploadIcon(this)" class="layui-btn test2"><i
                        class="icon iconfont icon-ico_plus"></i></span>
            </div>
        </div>
        <div class="shopMsg s1">
            <ul class="clearfix">
                <li>
                    <p class="title">生产许可证</p>
                    <input type="number" value="<%=list.licenceNum%>" id="scykCard"
                           placeholder="编号">
                </li>
                <li>
                    <p class="title">发证日期</p>
                    <div>

                        <input name="test" id="startTime3"
                               class="demo-test-date demo-test-datetime demo-test-time demo-test-credit"
                               placeholder="<%if(list.licenceDate){%><%=getYMDTime(list.licenceDate)%><%}else{%>发证日期<%}%>"
                               value="<%if(list.licenceDate){%><%=getYMDTime(list.licenceDate)%><%}else{%>发证日期<%}%>"
                               data-type="day"/>
                        <i class="icon iconfont icon-ico_calendar icon10"></i>
                        <div class="settings" style="display:none;">
                            <select name="demo" id="demo07">
                                <option value="date">日期</option>
                            </select>
                        </div>
                    </div>
                </li>
                <li>
                    <p class="title">有效日期</p>
                    <div id="time03">
                        <div class="yj-demo-time">
                            <div class="yj-date">
                                <span>
                                    <%if(list.licenceDateStart){%><%=getYMDTime(list.licenceDateStart)%>-<%=getYMDTime(list.licenceDateEnd)%><%}else{%>开始时间-结束时间<%}%>
                                </span><i class="iconfont icon-ico_calendar"></i>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <div class="uploadPic">
            <p class="title">生产许可证照片</p>
            <div class="cont layui-upload" style="overflow: hidden" class="imgBox" id="scImg">
                <%if(list.licenceImg){%>
                <%for(var i=0;i< list.licenceImg.length;i++){%>
                <div class="imgBox">
                    <img src="<%=list.licenceImg[i]%>"
                         real-src="<%=list.licenceImg[i]%>"
                         style="width: 100%;height: 100%" alt="">
                    <div class="del" onclick="delImg(this)"></div>
                </div>
                <%}%>
                <%}%>
                <span onclick="uploadIcon(this)" class="layui-btn" id="test1"><i
                        class="icon iconfont icon-ico_plus"></i></span>
            </div>
        </div>

        <div class="uploadPic n1">
            <p class="title" class="border1">其它资料照片</p>
            <div class="cont layui-upload" style="overflow: hidden" class="imgBox"
                 id="qtImg">
                <%if(list.licenceDescImg){%>
                <%for(var i=0;i< list.licenceDescImg.length;i++){%>
                <div class="imgBox">
                    <img src="<%=list.licenceDescImg[i]%>" real-src="<%=list.licenceDescImg[i]%>"
                         style="width: 100%;height: 100%" alt="">
                    <div class="del" onclick="delImg(this)"></div>
                </div>
                <%}%>
                <%}%>
                <span onclick="uploadIcon(this)" class="layui-btn test2"><i
                        class="icon iconfont icon-ico_plus"></i></span>
            </div>
        </div>
    </div>
    <ul class="goot-goot-putong s1">
        <li><input type="checkbox" name="供应商" value="" id="shcheck2" onclick="shows2(this)"
                   class="selectPro <%if(isCheck(list.manufacturerProvider,1)){%>" checked><%}else{%>"><%}%> 该企业为供应商
        </li>
    </ul>
    <div class="qyshow2 <%if(isCheck(list.manufacturerProvider,1)){%>" style="display: block"><%}else{%>"><%}%>
        <div class="shopMsg">
            <ul class="clearfix">
                <li>
                    <p class="title">医疗器械经营许可证</p>
                    <input type="number" value="<%=list.proNum%>" id="ylxkz"
                           placeholder="医疗器械经营许可证">
                </li>
                <li>
                    <p class="title">批准日期</p>
                    <div>

                        <input name="test" id="startTime4"
                               class="demo-test-date demo-test-datetime demo-test-time demo-test-credit"
                               placeholder="<%if(list.proDate){%><%=getYMDTime(list.proDate)%><%}else{%>批准日期<%}%>"
                               value="<%if(list.proDate){%><%=getYMDTime(list.proDate)%><%}else{%>批准日期<%}%>"
                               data-type="day"/>
                        <i class="icon iconfont icon-ico_calendar icon10"></i>
                        <div class="settings" style="display:none;">
                            <select name="demo" id="demo05">
                                <option value="date">日期</option>
                            </select>
                        </div>
                    </div>
                </li>
                <li>
                    <p class="title">有效日期</p>
                    <div id="time04">
                        <div class="yj-demo-time">
                            <div class="yj-date">
                                <span>
                                    <%if(list.proDateStart){%><%=getYMDTime(list.proDateStart)%>-<%=getYMDTime(list.proDateEnd)%><%}else{%>开始时间-结束时间<%}%>
                                </span><i class="iconfont icon-ico_calendar"></i>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>

        <div class="uploadPic">
            <p class="title">医疗器械经营许可证照片</p>
            <div class="cont layui-upload" style="overflow: hidden" class="imgBox" id="ylxkzimg">
                <%if(list.proImg){%>
                <%for(var i=0;i< list.proImg.length;i++){%>
                <div class="imgBox">
                    <img src="<%=list.proImg[i]%>"
                         real-src="<%=list.proImg[i]%>"
                         style="width: 100%;height: 100%" alt="">
                    <div class="del" onclick="delImg(this)"></div>
                </div>
                <%}%>
                <%}%>
                <span onclick="uploadIcon(this)" class="layui-btn test2"><i
                        class="icon iconfont icon-ico_plus"></i></span>
            </div>
        </div>
        <div class="uploadPic n1">
            <p class="title" class="border1">其它资料照片</p>
            <div class="cont layui-upload" style="overflow: hidden" class="imgBox"
                 id="qtzlImg">
                <%if(list.proDescImg){%>
                <%for(var i=0;i< list.proDescImg.length;i++){%>
                <div class="imgBox">
                    <img src="<%=list.proDescImg[i]%>" real-src="<%=list.proDescImg[i]%>"
                         style="width: 100%;height: 100%" alt="">
                    <div class="del" onclick="delImg(this)"></div>
                </div>
                <%}%>
                <%}%>
                <span onclick="uploadIcon(this)" class="layui-btn test2"><i
                        class="icon iconfont icon-ico_plus"></i></span>
            </div>
        </div>
    </div>
</script>
<script type="text/html" id="option2">
    <%for(var i = 0; i < list.length; i++){%>
    <li class="optionItems" value="<%=i%>"><%=list[i]%></li>
    <%}%>
</script>
<script type="text/html" id="selectTagTmp">
    <div class="select-box-header">
        <span class="text"><%=title%></span> <i class="iconfont icon-ico_arrow_down"></i>
    </div>
    <div class="optionBox">
        <ul class="optionUL">
            <%for(var i in list){%>
            <li value="<%=list[i].id%>"><%=list[i].name%></li>
            <%}%>
        </ul>
    </div>
</script>
<!--下拉选择模板带全部-->
<script type="text/html" id="selectTagTmpAll">
    <div class="select-box-header">
        <span class="text"><%=title%></span> <i class="iconfont icon-ico_arrow_down"></i>
    </div>
    <div class="optionBox">
        <ul class="optionUL">
            <%for(var i=0;i< list.length;i++){%>
            <li value="<%=list[i].id%>" data-pnid="<%if(list[i].pnid){%><%=list[i].pnid%><%}%>">
                <%if(list[i].name){%><%=list[i].name%><%}else{%><%=list[i].content%><%}%>
            </li>
            <%}%>
        </ul>
    </div>
</script>
<!--增加商品弹出框-->
<script type="text/html" id="addGoodsTmp">
    <div class="mainGoodList">
        <div class="goot-select">
            <div class="goot-items">品牌</div>
            <div class="selectBox" id="select-type">
                <div class="select-box-header">
                    <input type="text" id="brandName" value="" placeholder="品牌" autocomplete="off">
                    <i class="iconfont  icon-ico_arrow_down"></i>
                </div>
            </div>
        </div>
        <div class="goot-select">
            <div class="goot-items">系列</div>
            <div class="selectBox" id="select-series">
                <div class="select-box-header">
                    <input type="text" id="seriesName" value="" placeholder="系列" autocomplete="off">
                    <i class="iconfont  icon-ico_arrow_down"></i>
                </div>
            </div>
        </div>
        <div class="goot-select">
            <div class="goot-items">类型</div>
            <div class="selectBox" id="yj-add-type">
                <div class="select-box-header">
                    <span class="text">类型</span> <i class="iconfont  icon-ico_arrow_down"></i>
                </div>
                <div class="optionBox">
                    <ul class="optionUL">
                        <%for(var i = 0;i < typeData.length;i++){%>
                        <li value="<%=typeData[i].id%>" data-pnid="<%=typeData[i].pnid%>"><%=typeData[i].content%></li>
                        <%}%>
                    </ul>
                </div>
            </div>
        </div>
        <div class="goot-select">
            <div class="goot-items">更换周期</div>
            <div class="selectBox  goot-select-items" id="yj-add-jiaodian">
                <div class="select-box-header">
                    <span class="text">更换周期</span>
                    <i class="iconfont  icon-ico_arrow_down"></i>
                </div>
                <div class="optionBox">
                    <ul class="optionUL"></ul>
                </div>
            </div>
        </div>
        <div class="goot-select">
            <div class="goot-items">包装</div>
            <div class="selectBox  goot-select-items" id="yj-add-baozhuang">
                <div class="select-box-header">
                    <span class="text">包装</span>
                    <i class="iconfont icon-ico_arrow_down"></i>
                </div>
                <div class="optionBox">
                    <ul class="optionUL"></ul>
                </div>
            </div>
        </div>
        <div class="goot-select">
            <div class="goot-items">质保时长/天*</div>
            <div class="goot-select-items"><input type="number" placeholder="天数" autocomplete="off" id="dayNum">
            </div>
            <div class="zhibaoTime">*设定后会短信自动提醒顾客</div>
        </div>
        <div class="goot-select">
            <div class="goot-items">供应商</div>
            <div class="selectBox" id="yj-gongS">
                <div class="select-box-header">
                    <span class="text">供应商</span>
                    <i class="iconfont icon-ico_arrow_down"></i>
                </div>
                <div class="optionBox">
                    <ul class="optionUL">
                        <%if(gongS){%>
                        <%for(var i = 0;i < gongS.length;i++){%>
                        <li><%=gongS[i].name%></li>
                        <%}%>
                        <%}%>
                    </ul>
                </div>
            </div>
        </div>
        <div class="goot-select">
            <div class="goot-items">生产商</div>
            <div class="selectBox" id="yj-shengS">
                <div class="select-box-header">
                    <span class="text">生产商</span>
                    <i class="iconfont icon-ico_arrow_down"></i>
                </div>
                <div class="optionBox">
                    <ul class="optionUL">
                        <%if(shengS){%>
                        <%for(var i = 0;i < shengS.length;i++){%>
                        <li><%=shengS[i].name%></li>
                        <%}%>
                        <%}%>
                    </ul>
                </div>
            </div>
        </div>
        <div class="goot-select f1">
            <div class="goot-items">现货范围</div>
            <div class="goot-items1 goods-range-body" onclick="openGoodsRange('现货','<%=isUpdate%>')">设定现货范围</div>
        </div>
        <div class="goot-select f1">
            <div class="goot-items">定制单范围</div>
            <div class="goot-items1 goods-range-body" onclick="openGoodsRange('定制','<%=isUpdate%>')">设定定制范围</div>
        </div>
    </div>
    <ul class="goot-goot-putong">
        <li><span class="select s1"><i class="iconfont icon-ico_check"></i></span> 常规商品</li>
    </ul>
    <ul class="goot-goot-huiyuan">
        <li class="zhekou">
            <span class="goot-left">会员折扣</span>
            <span class="goot-Right">
                    <div class="yj-radio"></div> 参与会员折扣
                </span>
        </li>
        <li class="lingshou">
            <div class="goot-select">
                <div class="goot-items">零售价</div>
                <div class="goot-items1"><a href="">设定零售价</a></div>
            </div>
            <div class="goot-select">
                <div class="goot-items">提成</div>
                <div class="goot-items1"><a href="">设定提成</a></div>
            </div>

        </li>
    </ul>
    <ul class="goot-goot-putong u2">
        <li><span class="select s2"><i class="iconfont icon-ico_check"></i></span> 积分商品</li>
    </ul>
    <ul class="goot-goot-putong uItem">
        <li class="lingshou">
            <div class="goot-select">
                <div class="goot-items">积分价</div>
                <div class="goot-items1"><a href="">设定积分价</a></div>
            </div>
            <div class="goot-select">
                <div class="goot-items">兑换数量上限</div>
                <input type="number" placeholder="输入" class="dhNum">
            </div>
            <div class="goot-select">
                <div class="goot-items">有效时间</div>
                <div class="yj-youxiao-time">
                    <div class="yj-date">
                        <span>开始时间-结束时间</span>
                        <i class="iconfont icon-ico_calendar"></i>
                    </div>
                </div>
            </div>
        </li>
        <li><span class="select s3"><i class="iconfont icon-ico_check"></i></span> 当库存低于
            <input type="text" placeholder="数量" class="warnInput" id="warn1" disabled>
            触发警报
        </li>
    </ul>
    <!-- 注册医疗信息 -->
    <ul class="zhuceInfo">
        <li class="zhuceInfo-first">
            <span class="zhuceInfo-items">医疗器械注册信息</span>
            <i class="iconfont icon-ico_arrow_down"></i>
        </li>
        <li>
            <ul class="zhuceUl">
                <li class="lingshou l1">
                    <div class="goot-select">
                        <div class="goot-items">注册证号</div>
                        <div class="goot-items1"><span class="guoxie">国械注准</span>
                            <input type="text" placeholder="输入" class="guoInput"></div>
                    </div>
                    <div class="goot-select">
                        <div class="goot-items">注册时间</div>
                        <div class="goot-items1">
                            <input class="guoTime demo-test-date demo-test-datetime demo-test-time demo-test-credit"
                                   data-type="day" placeholder="选择时间"/>
                            <i class="iconfont icon-ico_calendar icon11"></i>
                        </div>
                        <div class="settings" style="display:none;">
                            <select name="demo" id="yjdemo">
                                <option value="date">日期</option>
                            </select>
                        </div>
                    </div>
                    </div>
                </li>
                <li class="guoxieLast uploadPic">
                    <div>注册证图片 <span>1-3 张</span></div>
                    <div class="cont layui-upload" style="overflow: hidden">

                    </div>
                    <span onclick="uploadIcon(this)" class="layui-btn test2 zcImg"><i
                            class="icon iconfont icon-ico_plus"></i></span>
                </li>
            </ul>
        </li>
    </ul>
</script>


<script src="./medical.js"></script>
<!--员工列表开始时列表-->
<script type="text/html" id="yuangongList">
    <li class="first">
        <div class="ygList1">姓名</div>
        <div class="ygList2">职位</div>
        <div class="ygList3">性别</div>
        <div class="ygList4">手机号</div>
        <div class="ygList5">权限设置</div>
    </li>
    <%for(var i = 0; i < list.length; i++){%>
    <li class="hideBorder">
        <div class="others selectAllXiaLa">
            <span class="yuanLeft"><%if(list[i][0].subName)%><%=list[i][0].subName%><%else{%>无门店信息<%}%></span>
            <i class="iconfont icon-ico_arrow_down yuanRight"></i>
        </div>
        <ul class="showYuanList showAllXiaLa">
            <%for(var key = 0; key < list[i].length; key++){%>
            <li>
                <div class="ygList1"><%=list[i][key].name%></div>
                <div class="ygList2"><%=list[i][key].job%></div>
                <%if(list[i][key].sex == 0)%>
                <div class="ygList3">男</div>
                <%else if(list[i][key].sex == 1){%>
                <div class="ygList3">女</div>
                <%}else{%>
                <div class="ygList3">-</div>
                <%}%>
                <div class="ygList4"><%=list[i][key].phone%></div>
                <div class="ygList5">
                    <span class="duoXuans"><i class="iconfont icon-ico_check"></i></span> 医疗器械负责人
                    <span class="duoXuans"><i class="iconfont icon-ico_check"></i></span> 质量管理人
                </div>
            </li>
            <%}%>
        </ul>
    </li>
    <%}%>
</script>
<!--员工列表体检/培训记录模板-->
<!--头部模板-->
<script type="text/html" id="ygTjReloadListHead">
    <div class="tjHeader">
        <%if(id == 'ygLi3'){%>
        <div class="tjLeft clearfix">体检记录</div>
        <%}else if(id == 'ygLi2'){%>
        <div class="tjLeft clearfix">培训记录</div>
        <%}%>
        <div class="tjRight clearfix">
            <div class="selectBox tj2" id="selectShop">

            </div>
            <div class="selectBox tj3" id="selectShopEmployer">
                <div class="select-box-header">
                    <%if(list2){%>
                    <span class="text"><%=yuangong%></span> <i class="iconfont icon-ico_arrow_down"></i>
                    <%}else{%>
                    <span class="text">员工</span> <i class="iconfont icon-ico_arrow_down"></i>
                    <%}%>
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/html" id="ygTjReloadList">
    <div class="mainGoodList">
        <div class="goot-select">
            <div class="goot-items">编号</div>
            <input type="text" placeholder="编号" id="ygTjReloadNum" class="proNames"
                   value='<%if(list2 && list2.length > 0 && list2[0].num){%><%=list2[0].num%><%}%>'>
        </div>
        <%if(id == 'ygLi3'){%>
        <div class="goot-select">
            <div class="goot-items">文化程度</div>
            <div class="selectBox" id="ygTjReloadLeval">
                <div class="select-box-header">
                    <span class="text"><%if(list2 && list2.length > 0){%><%=list2[0].education%><%}else{%>文化程度<%}%></span>
                    <i class="iconfont icon-ico_arrow_down"></i>
                </div>
                <div class="optionBox">
                    <ul class="optionUL">
                        <li>小学</li>
                        <li>初中</li>
                        <li>高中</li>
                        <li>本科</li>
                        <li>研究生</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="goot-select">
            <div class="goot-items">职位</div>
            <div class="selectBox" id="ygTjReloadJob">
                <div class="select-box-header">
                    <span class="text"><%if(list2 && list2.length > 0 && list2[0].job){%><%=list2[0].job%><%}else{%>职位<%}%></span>
                    <i class="iconfont icon-ico_arrow_down"></i>
                </div>
                <div class="optionBox">
                    <ul class="optionUL">
                        <%for(var i = 0; i < list.length; i++){%>
                        <li><%=list[i]%></li>
                        <%}%>
                    </ul>
                </div>
            </div>
        </div>
        <div class="goot-select">
            <div class="goot-items">从业年限</div>

            <input type="text" placeholder="输入" class="proNames" id="ygTjReloadYear"
                   value='<%if(list2 && list2.length > 0){%><%=list2[0].workYear%><%}%>'>
        </div>
        <div class="goot-select">
            <div class="goot-items">体检日期</div>
            <div class="goot-items1">
                <input class="guoTime g1 demo-test-date demo-test-datetime demo-test-time demo-test-credit"
                       data-type="day" placeholder="选择日期" id="ygTjDate1"
                       value='<%if(list2 && list2.length > 0){%><%=date%><%}%>' autocomplete="off" readonly/>
                <i class="iconfont icon-ico_calendar icon11"></i>
            </div>
            <div class="settings" style="display:none;">
                <select name="demo" id="ygTjDate">
                    <option value="date">选择日期</option>
                </select>
            </div>
        </div>
        <div class="goot-select">
            <div class="goot-items">体检医院</div>
            <input type="text" placeholder="输入" class="proNames" id="ygTjReloadYy"
                   value='<%if(list2 && list2.length > 0){%><%=list2[0].trainUnit%><%}%>'>
        </div>
    </div>
    <div class="pxInput">
        <div class="pxDanwei">体检内容</div>
        <textarea name="pxIn" class="pxIn" id="ygTpNeiRong"><%if(list2 && list2.length > 0){%><%=list2[0].trainContent%><%}else{%><%}%></textarea>
        <div class="pxDanwei">体检结果</div>
        <textarea name="pxIn" class="pxIn" id="tjieguo"><%if(list2 && list2.length > 0){%><%=list2[0].examinationOrder%><%}else{%><%}%></textarea>
        <div class="pxDanwei">备注</div>
        <input type="text" class="beizhu" placeholder="备注" id="tjbeizhu"
               value='<%if(list2 && list2.length > 0){%><%=list2[0].desc%><%}%>'>
    </div>
    <%}else if(id == 'ygLi2'){%>
    <div class="goot-select">
        <div class="goot-items">职位</div>
        <div class="selectBox" id="ygTjReloadJob">
            <div class="select-box-header">
                <span class="text"><%if(list2 && list2.length > 0 && list2[0].job){%><%=list2[0].job%><%}else{%>职位<%}%></span>
                <i class="iconfont icon-ico_arrow_down"></i>
            </div>
            <div class="optionBox">
                <ul class="optionUL">
                    <%for(var i = 0; i < list.length; i++){%>
                    <li><%=list[i]%></li>
                    <%}%>
                </ul>
            </div>
        </div>
    </div>
    <div class="goot-select">
        <div class="goot-items">考试成绩</div>
        <input type="text" placeholder="输入" class="proNames" id="ygPxReloadSch"
               value='<%if(list2 && list2.length > 0){%><%=list2[0].tests%><%}%>'>
    </div>
    <div class="goot-select">
        <div class="goot-items">授课人</div>
        <input type="text" placeholder="输入" class="proNames" id="ygPxReloadSkr"
               value='<%if(list2 && list2.length > 0){%><%=list2[0].lecturer%><%}%>'>
    </div>
    <div class="goot-select">
        <div class="goot-items">培训形式</div>
        <input type="text" placeholder="输入" class="proNames" id="ygPxReloadXs"
               value='<%if(list2 && list2.length > 0){%><%=list2[0].trainForm%><%}%>'>
    </div>
    <div class="goot-select">
        <div class="goot-items">培训单位</div>
        <input type="text" placeholder="输入" class="proNames" id="ygTjReloadYy"
               value='<%if(list2 && list2.length > 0){%><%=list2[0].trainUnit%><%}%>'>
    </div>
    </div>
    <div class="pxInput">
        <div class="pxDanwei">培训内容</div>
        <textarea name="pxIn" class="pxIn" id="ygTpNeiRong"><%if(list2 && list2.length > 0){%><%=list2[0].trainContent%><%}else{%><%}%></textarea>
        <div class="pxDanwei">备注</div>
        <input type="text" class="beizhu" placeholder="备注" id="tjbeizhu"
               value='<%if(list2 && list2.length > 0){%><%=list2[0].desc%><%}%>'>
    </div>
    <%}%>

</script>

<script>
    template.helper('isCheck', function (array, type) {
        var flag = false;
        if (!array) return flag
        for (var i = 0; i < array.length; i++) {
            flag = array[i] == type ? true : false;
            break;
        }
        return flag;
    });
    var sid = quakooUser.getUserInfo().psid;//企业/公司id
    var areaJson = new areaJson();
    var oneArea = areaJson.oneList;//省数据
    var winObj = {
        //首页所有商品
        shopAll: [
            {checkbox: true, valign: "middle"},
            {field: "brandName", title: "品牌", align: "left", valign: "middle"},
            {field: "seriesName", title: "系列", align: "left", valign: "middle"},
            // {field: "providerName", title: "生产企业", align: "left", valign: "middle"},
            {field: "nirNum", title: "国械注准号", align: "left", valign: "middle"},
            {
                field: "checkStatus",
                title: "销售审核",
                align: "left",
                valign: "middle",
                formatter: function (value, row, index) {
                    if (value == 0) {
                        return '<span class="xiaoShouShenHe">未通过</span>'
                    } else if (value == 1) {
                        return '<span class="xiaoShouShenHe suc">审核通过</span>'
                    }
                }
            },
            {field: "checkStatusDate", title: "验收日期", align: "left", valign: "middle"},
            {
                field: "business",
                title: "质检人员",
                align: "center",
                valign: "middle",
                formatter: function (value, row, index) {
                    return quakooUser.getUserInfo().name;
                }
            },
            {
                field: "", title: "操作", align: "center", valign: "middle", formatter: function (value, row, index) {
                    return '<button class="btn btn-primary">编辑</button>';
                    console.log(row)
                }
            }
        ],
        //生产商、供应商列表
        gsListAll: [
            {checkbox: true, valign: "middle"},
            {field: "name", title: "企业名称", align: "left", valign: "middle"},
            {
                field: "manufacturerProvider",
                title: "企业类型",
                align: "left",
                valign: "middle",
                formatter: function (value, row, index) {
                    if (value) {
                        if (value.length == 1) {
                            if (value[0] === 1) {
                                return '生产商'
                            } else if (value[0] === 2) {
                                return '供应商'
                            }
                        } else {
                            return '生产商/供应商'
                        }
                    }
                }
            },
            {field: "userName", title: "联系人", align: "left", valign: "middle"},
            {
                field: "checkStatus", title: "审核状态", align: "left", valign: "middle",
                formatter: function (value, row, index) {
                    if (value) {
                        if (value == 1) {
                            return '通过审核';
                        } else if (value == 0) {
                            return '未通过'
                        }
                    }
                }
            },
            {field: "phone", title: "联系电话", align: "left", valign: "middle"},
            {field: "comBusinessNum", title: "营业执照编号", align: "left", valign: "middle"},
            {
                field: "comBusinessDate",
                title: "发证日期",
                align: "left",
                valign: "middle",
                formatter: function (value, row, index) {
                    return quakooUtils.formatTimeToDay(value);
                }
            },
            {
                field: "", title: "操作", align: "center", valign: "middle", formatter: function (value, row, index, e) {
                    return '<button class="btn btn-primary" onclick=\'addPros(' + JSON.stringify(row) + ')\'>编辑</button>';
                }
            }
        ],
        //证件有效期到期的企业列表弹窗
        gsGuoqiAll: [
            {checkbox: true, valign: "middle"},
            {field: "name", title: "企业名称", align: "left", valign: "middle"},
            {
                field: "manufacturerProvider",
                title: "企业类型",
                align: "left",
                valign: "middle",
                formatter: function (value, row, index) {
                    if (value) {
                        if (value.length == 1) {
                            if (value[0] === 1) {
                                return '生产商'
                            } else if (value[0] === 2) {
                                return '供应商'
                            }
                        } else {
                            return '生产商/供应商'
                        }
                    }
                }
            },
            {field: "userName", title: "联系人", align: "left", valign: "middle"},
            {field: "phone", title: "联系电话", align: "left", valign: "middle"},
            {field: "comBusinessNum", title: "营业执照编号", align: "left", valign: "middle"},
            {
                field: "comBusinessDate",
                title: "发证日期",
                align: "left",
                valign: "middle",
                formatter: function (value, row, index) {
                    return quakooUtils.formatTimeToDay(value);
                }
            },
            {
                field: "", title: "操作", align: "center", valign: "middle", formatter: function (value, row, index) {
                    return '<button class="btn btn-primary" onclick=\'addPros(' + JSON.stringify(row) + ')\'>编辑</button>';
                }
            }
        ],
        warnSPList: [
            {checkbox: true, valign: "middle"},
            {field: "brandName", title: "品牌", align: "left", valign: "middle"},
            {field: "seriesName", title: "系列", align: "left", valign: "middle"},
            {field: "providerName", title: "生产企业", align: "left", valign: "middle"},
            {field: "nirNum", title: "国械注准号", align: "left", valign: "middle"},
            {
                field: "checkStatus",
                title: "验收结果",
                align: "left",
                valign: "middle",
                formatter: function (value, row, index) {
                    if (value == 0) {
                        return '未通过'
                    } else if (value == 1) {
                        return '审核通过'
                    }
                }
            },
            {field: "checkStatusDate", title: "验收日期", align: "left", valign: "middle"},
            {
                field: "name",
                title: "质检人员",
                align: "center",
                valign: "middle",
                formatter: function (value, row, index) {
                    return quakooUser.getUserInfo().name;
                }
            },
            {
                field: "", title: "操作", align: "center", valign: "middle", formatter: function (value, row, index) {
                    return '<button class="btn btn-primary">编辑</button>';
                }
            }
        ],
        XSReload: [
            {checkbox: true, valign: "middle"},
            {field: "stime", title: "销售日期", align: "left", valign: "middle"},
            {field: "sname ", title: "客户名称", align: "left", valign: "middle"},
            {field: "series", title: "商品编号", align: "left", valign: "middle"},
            {field: "model", title: "商品名称", align: "left", valign: "middle"},
            {field: "cycle", title: "销售数量", align: "left", valign: "middle"},
            {field: "spy", title: "生产企业", align: "left", valign: "middle"},
            {field: "quality", title: "生产许可号", align: "left", valign: "middle"},
            {field: "guoxieNum", title: "国械注准号", align: "left", valign: "middle"},
            {field: "guige", title: "规格", align: "left", valign: "middle"},
            {field: "spNum", title: "生产批号", align: "left", valign: "middle"},
            {field: "quality", title: "生产时间", align: "left", valign: "middle"},
            {field: "guoqi", title: "过期时间", align: "left", valign: "middle"},
            {field: "putPerson", title: "销售人员", align: "center", valign: "middle"},
            {field: "shPerson", title: "审核人员", align: "center", valign: "middle"},
            {field: "num", title: "单据编号", align: "left", valign: "middle"}
        ]
    };
    var brand,//品牌
        series,//系列
        typeData,//类型
        shengS,//生产商
        gongS;//供应商
    var subid = quakooUser.getUserInfo().psid;//企业/公司id
    var shopId = quakooDb.getItem('sel_ShopId');//门店id
    var cid = '';//类目id
    var pid = '';//供应商ID
    var bid = '';//品牌ID
    var sid = '';//系列ID
    var name = '';//搜索关键字
    var params = {};//添加商品所需要的参数    key    类目id；value：所需参数
    var ballData = '';//球数据
    var columnData = '';//柱数据
    var typeData;//隐形眼镜类型数据5


    /*员工列表开始*/
    // 员工列表开始时首页表

    // 员工列表
    var obj = [];
    quakooData.ajaxGetData(config.getUrl_medicalAppliances_getAllGongSiInfo(), {psid: quakooUser.getUserInfo().psid}, function (ret) {
        for (var k in ret.data) {
            obj.push(ret.data[k])
        }
        obj.shift()
        console.log(obj[0][0].name)
    })

    function employList() {
        layer.open({
            type: 1, shade: 0.01,
            title: null,
            skin: 'my-skin',
            area: ['720px', '550px'],
            anim: 0,
            maxWidth: '720',
            closeBtn: 0, //显示关闭按钮
            resize: false,
            shadeClose: true, //开启遮罩关闭
            content: $('.content-view-employList'),
            btn: '关闭窗口'
        });
        var html = template('yuangongList', {list: obj})
        $('#yuangongList1').html(html);
        $('.selectAllXiaLa').click(function () {
            var index = $(".selectAllXiaLa").index($(this));
            $(this).find('i').toggleClass('icon-ico_arrow_down').toggleClass('icon-ico_arrow_up')
            $('.showAllXiaLa').eq(index).slideToggle();
        })
        $('.duoXuans').click(function () {
            $(this).toggleClass('active')
        })
    }

    function selectTimes(date) {
        //营业时间
        var opt = {};
        opt.date = {
            preset: 'date'
        };
        opt.datetime = {
            preset: 'datetime'
        };
        opt.time = {
            preset: 'time'
        };

        opt.default = {
            theme: 'mbsc-android-holo', //皮肤样式
            display: 'bubble', //显示方式
            mode: 'scroller', //日期选择模式
            dateFormat: 'yyyy-mm-dd',
            lang: 'zh',
            showNow: true,
            nowText: "今天",
            typeNum: 'day', //day：获取到日，time：获取到时，branch：获取到分；默认是获取到分
        };
        $('.settings').bind('change', function () {
            var demo = 'datetime';
            if (!demo.match(/select/i) && !date) {
                $('.demo-test-' + demo).val('');
            }
            $('.demo-test-' + demo).scroller('destroy').scroller($.extend(opt['datetime'], opt['default']));
            $('.demo').hide();
            $('.demo-' + demo).show();
        });
    }

    // start();
    var subids, //该员工的门店id
        suid, //员工的id
        job,
        education, //文化程度
        mendian, //记录门店
        yuangong, //记录员工
        zhiWeiData; //职位
    // 员工列表（体检记录弹窗）
    function tjReload(id) {
        //门店员工列表的筛选
        quakooData.ajaxGetData(config.getUrl_subordinate_getSubordinateStore(), {
            sid: quakooUser.getUserInfo().psid,
            token: quakooUser.getUserInfo().token
        }, function (ret1) {
            var html = template('ygTjReloadListHead', {list1: ret1.data, id: id});
            var index2 = layer.open({
                type: 1,
                shade: 0.01,
                title: html,
                move: '#ygTitle',
                skin: 'ygPopup my-skin1',
                area: ['360px', '550px'],
                anim: 0,
                maxWidth: '360',
                closeBtn: 0, //显示关闭按钮
                resize: false,
                shadeClose: true, //开启遮罩关闭
                content: $('.content-view-tjReload'),
                btn: ['取消', '保存'],
                yes: function (index2) {
                    layer.close(index2)
                },
                btn2: function (index2) {
                    baoCun(id)
                    return false;
                },
                success: function () {
                    $('#ygTjReloadList1').html(template('ygTjReloadList', {
                        list: [],
                        id: id,
                        list2: [],
                        date: '选择日期'
                    }));
                    $('.ygPopup').find('.layui-layer-title').css({
                        "padding": 0,
                        "overflow": 'inherit'
                    }).next().css('width', '100%');
                    //选择门店下拉框
                    var html1 = template('selectTagTmpAll', {
                        title: '选择门店',
                        list: ret1.data
                    });
                    $('#selectShop').html(html1)
                    selectTag($("#selectShop"), function (data) { //门店列表下拉框
                        yuanGong(data.value, id)
                        subids = data.value
                    })
                    $('.layui-layer .layui-layer-title span').css("marginLeft", "0px")
                }
            });
        })
        //获取职位
        quakooData.ajaxGetData(config.getUrl_user_getAllUserJob(), {
            sid: quakooUser.getUserInfo().sid,
            userType: 1
        }, function (ret) {
            zhiWeiData = ret.data;
        })
    }

    function yuanGong(id, type) {
        quakooData.ajaxGetData(config.getUrl_user_getAllUser(), {
            sid: id, //门店id
            userType: 1
        }, function (ret2) {
            if (ret2 && ret2.success) {
                if (ret2.data && ret2.data.length > 0) {
                    var html2 = template('selectTagTmpAll', {
                        title: '选择员工',
                        list: ret2.data
                    });
                    $('#selectShopEmployer').html(html2).show();
                    //员工的下拉框
                    selectTag($("#selectShopEmployer"), function (data) {
                        suid = data.value;
                        selectEmployer(type); //选择员工
                    })
                } else {
                    $('#selectShopEmployer').hide();
                }
            }
        })

    }

    function selectEmployer(type) {
        //获取员工体检记录
        if (type == 'ygLi3') {
            quakooData.ajaxGetData(config.getUrl_medicalAppliances_getPtReload(), {
                uid: suid,
                type: 1
            }, function (ret2) {
                console.log(ret2)
                if (ret2.data.length) {
                    var date = quakooUtils.formatTimeToDay(parseInt(ret2.data[0].examinationDate))
                }
                var data = {
                    list: zhiWeiData,
                    id: type,
                    list2: ret2.data,
                    date: date
                };
                var html = template('ygTjReloadList', data);
                $('#ygTjReloadList1').html(html);
                selectTag($("#ygTjReloadJob"), function (value) {  //  职位下拉框
                    job = value.text
                })
                selectTag($("#ygTjReloadLeval"), function (value) {  //  文化程度下拉框
                    education = value.text
                })
                selectTimes(date);
                $('#ygTjDate').trigger('change');
            })
        } else if (type == 'ygLi2') { //获取员工培训记录
            quakooData.ajaxGetData(config.getUrl_medicalAppliances_getPtReload(), {
                uid: suid,
                type: 2
            }, function (ret2) {
                console.log(ret2)
                var data = {list: zhiWeiData, id: type, list2: ret2.data, yuangong: yuangong};
                var html = template('ygTjReloadList', data);
                $('#ygTjReloadList1').html(html);
                selectTag($("#ygTjReloadJob"), function (value) {  //  职位下拉框
                    job = value.text
                })
            })
        }
    }

    function baoCun(id) {
        var param1 = {};
        param1.subid = subids; //员工门店id
        param1.uid = suid; //员工id
        param1.num = $('#ygTjReloadNum').val(); //编号
        param1.trainUnit = $('#ygTjReloadYy').val(); //培训单位/体检医院
        param1.trainContent = $('#ygTpNeiRong').val(); //培训内容/体检内容
        param1.desc = $('#tjbeizhu').val(); //备注
        param1.job = job; //职位
        //体检独有

        if (id == 'ygLi3') {
            param1.examinationOrder = $('#tjieguo').val(); //体检结果
            param1.workYear = quakooUtils.isNotBlack($('#ygTjReloadYear')) ? $('#ygTjReloadYear').val() : ''; //从业年限
            param1.type = 1;
            param1.examinationDate = quakooUtils.isNotBlack($('#ygTjDate1').val()) ? new Date($("#ygTjDate1").val()).getTime() : ''; //体检日期
            param1.education = quakooUtils.isNotBlack(education) ? education : ''; //文化程度
        } else if (id == 'ygLi2') {
            param1.type = 2;
        }
        //培训独有
        param1.tests = quakooUtils.isNotBlack($('#ygPxReloadSch')) ? $('#ygPxReloadSch').val() : '';  //成绩考试
        param1.trainForm = quakooUtils.isNotBlack($('#ygPxReloadXs')) ? $('#ygPxReloadXs').val() : '';  //培训形式
        param1.lecturer = quakooUtils.isNotBlack($('#ygPxReloadSkr')) ? $('#ygPxReloadSkr').val() : '';  //授课人
        if (quakooUtils.isBlack(param1.subid)) {
            layer.msg('选择门店');
            return;
        }
        if (quakooUtils.isBlack(param1.uid)) {
            layer.msg('选择员工');
            return;
        }
        if (quakooUtils.isBlack(param1.num)) {
            layer.msg('填写编号');
            return;
        }
        if (id == 'ygLi3') {
            if (quakooUtils.isBlack(param1.examinationDate)) {
                layer.msg('体检日期');
                return;
            }
            if (quakooUtils.isBlack(param1.workYear)) {
                layer.msg('workYear');
                return;
            }
            if (quakooUtils.isBlack(param1.education)) {
                layer.msg('文化程度');
                return;
            }
            if (quakooUtils.isBlack(param1.examinationOrder)) {
                layer.msg('填写体检结果');
                return;
            }
        } else if (id == 'ygLi2') {
            if (quakooUtils.isBlack(param1.tests)) {
                layer.msg('成绩考试');
                return;
            }
            if (quakooUtils.isBlack(param1.trainForm)) {
                layer.msg('培训形式');
                return;
            }
            if (quakooUtils.isBlack(param1.lecturer)) {
                layer.msg('授课人');
                return;
            }
        }
        if (quakooUtils.isBlack(param1.trainUnit)) {
            if (id == 'ygLi3') {
                layer.msg('体检医院');
            } else if (id == 'ygLi2') {
                layer.msg('培训单位');
            }
            return;
        }
        if (quakooUtils.isBlack(param1.trainContent)) {
            if (id == 'ygLi3') {
                layer.msg('体检内容');
            } else if (id == 'ygLi2') {
                layer.msg('培训内容');
            }
            return;
        }
        console.log(param1)
        quakooData.ajaxGetData(config.getUrl_medicalAppliances_addtjReload(), param1, function (ret) {
            layer.msg('保存成功')
        })
    }

    /*员工列表结束*/


    $(function () {
        initPage();
        //获取品牌（页面及弹窗）
        quakooData.ajaxGetData(config.getUrl_productBrand_getSubAllList(), {}, function (ret) {
            if (ret && ret.success) {
                brand = ret.data;
            }
        })
        //获取属性-隐形眼镜类型/5
        quakooData.ajaxGetData(config.getUrl_productPropertyvalue_getAllList(), {pnid: 5}, function (ret) {
            typeData = ret.data
        })
        //获取生产商
        quakooData.ajaxGetData(config.getUrl_medicalAppliances_getgongSheng(), {mpId: 1}, function (ret) {
            shengS = ret.data
        })
        //获取供应商
        quakooData.ajaxGetData(config.getUrl_medicalAppliances_getgongSheng(), {mpId: 2}, function (ret) {
            gongS = ret.data
        })

    })

    // 首页时间
    var startTime,
        endTime;
    date5 = new dateRange("#select-time-header .yj-demo-time");
    date5.init();
    $('#select-time-header button').click(function () {
        startTime = date5.getTime()[2];
        endTime = date5.getTime()[3];
        console.log(startTime)
        console.log(endTime)
        initPage()
    })
    //初始化函数
    function initPage() {
        // quakooData.ajaxGetData(config.getUrl_product_getSPUPager(), { subid: quakooUser.getUserInfo().psid, type: 1 }, function (ret) {
        //     console.log(ret)
        //     var tabTwo = new TableInit({
        //         data: ret.data,
        //         method: false,
        //         type: 'client',
        //         url: false,
        //         columns: winObj.shopAll
        //     });
        // })
        // tabTwo.Init();
        var checkArray = {};
        var tabTwo = new TableInit({
            dom: '#xsjl-table',
            data: false,
            method: 'get',
            type: 'server',
            url: config.getUrl_product_getSPUPager(),
            columns: winObj.shopAll,
            // queryParams: function (param) {
            //     param.subid = quakooUser.getUserInfo().sid;
            //     param.token = quakooUser.getUserInfo().token;
            //     if (startTime) {
            //         param.startTime = startTime;
            //     }
            //     if (endTime) {
            //         param.endTime = endTime;
            //     }
            //     return param
            // },
            onCheckAll: function (data) {
                var len = data.length;
                for (var i = 0; i < data.length; i++) {
                    checkArray[data[i].id] = data[i].id
                }
                shouyeShowFooter(len, checkArray)
            },
            onUncheckAll: function (data) {
                var len = 0;
                checkArray = {};
                shouyeShowFooter(len, checkArray)
            },
            onCheck: function (data) {
                var len = $('#xsjl-table').find('tr.selected').length;
                checkArray[data.id] = data.id;
                shouyeShowFooter(len, checkArray)
            },
            onUncheck: function (data) {
                delete checkArray[data.id]
                var len = $('#xsjl-table').find('tr.selected').length;
                shouyeShowFooter(len, checkArray)
            },
            callBack: function (row) {
                subid: quakooUser.getUserInfo().psid
                type: 1
                return row
            }
        });
        tabTwo.Init();

        //获取为补充说明商品的数量
        quakooData.ajaxGetData(config.getUrl_medicalAppliances_getNotBuCSMShop(),
            {
                subid: quakooUser.getUserInfo().sid,
                token: quakooUser.getUserInfo().token
            },
            function (ret) {
                $('.daoqiWarn').find('.notBuChongNum').html(ret.rows.length)
            })
    }

    //获取所有商品首页展示的列表
    function shouyeShowFooter(num, obj) {
        var botBar = '<div class="showShouyeFooter">' +
            '<span class="xuanZhongXiang">已选中' + num + '项</span>' +
            '<div class="xuanRight">' +
            '<span class="quXiaoXuanZhong">取消选中</span>' +
            '<span class="piLiangDaYin">批量打印</span>' +
            '<span class="shenHeTongguo">审核通过</span>' +
            '</div>' +
            '</div>';
        if (num > 0) {
            $('.body-bg').append(botBar)
            $('.showShouyeFooter').show();
            //审核通过
            $('.shenHeTongguo').click(function () {
                var ids = [];
                //转换成数组
                Object.keys(obj).forEach(function (key) {
                    ids.push(key)
                });
                console.log(ids)
                // quakooData.ajaxGetData(config.getUrl_medicalAppliances_checkAddStatus(), {ids: ids}, function (ret) {
                //     if(ret && ret.success){
                //         layer.msg('审核成功')
                //     }
                // })
            })
        } else {
            $('.showShouyeFooter').hide();
        }
    }

    /*新改的入库记录*/
    var data4 = [
        {
            stime: "2018.12.10",
            bianhao: "9218379212",
            sname: "清凉一夏暴龙太阳眼镜",
            shNum: "12",
            sPy: "北京暴龙眼镜有限公司",
            productNum: "2319876741",
            guoxieNum: "2319876741",
            guige: "瓶",
            spNum: "2319876741",
            quality: "2019.03.30",
            guoqi: "2019.03.30",
            ysjieguo: "已验收",
            guoqi: "2019.03.30",
            putPerson: "李四",
            num: "50"
        },
        {
            stime: "2018.12.10",
            bianhao: "9218379212",
            sname: "清凉一夏暴龙太阳眼镜",
            shNum: "12",
            sPy: "北京暴龙眼镜有限公司",
            productNum: "2319876741",
            guoxieNum: "2319876741",
            guige: "瓶",
            spNum: "2319876741",
            quality: "2019.03.30",
            guoqi: "2019.03.30",
            ysjieguo: "已验收",
            guoqi: "2019.03.30",
            putPerson: "李四",
            num: "50"
        },
        {
            stime: "2018.12.10",
            bianhao: "9218379212",
            sname: "清凉一夏暴龙太阳眼镜",
            shNum: "12",
            sPy: "北京暴龙眼镜有限公司",
            productNum: "2319876741",
            guoxieNum: "2319876741",
            guige: "瓶",
            spNum: "2319876741",
            quality: "2019.03.30",
            guoqi: "2019.03.30",
            ysjieguo: "已验收",
            guoqi: "2019.03.30",
            putPerson: "李四",
            num: "50"
        },
        {
            stime: "2018.12.10",
            bianhao: "9218379212",
            sname: "清凉一夏暴龙太阳眼镜",
            shNum: "12",
            sPy: "北京暴龙眼镜有限公司",
            productNum: "2319876741",
            guoxieNum: "2319876741",
            guige: "瓶",
            spNum: "2319876741",
            quality: "2019.03.30",
            guoqi: "2019.03.30",
            ysjieguo: "已验收",
            guoqi: "2019.03.30",
            putPerson: "李四",
            num: "50"
        },
        {
            stime: "2018.12.10",
            bianhao: "9218379212",
            sname: "清凉一夏暴龙太阳眼镜",
            shNum: "12",
            sPy: "北京暴龙眼镜有限公司",
            productNum: "2319876741",
            guoxieNum: "2319876741",
            guige: "瓶",
            spNum: "2319876741",
            quality: "2019.03.30",
            guoqi: "2019.03.30",
            ysjieguo: "已验收",
            guoqi: "2019.03.30",
            putPerson: "李四",
            num: "50"
        },
    ];
    $("#rkjl-table").bootstrapTable({
        data: data4,                 //被加载的数据。
        classes: "table",
        pagination: true,            //是否显示分页
        pageNumber: 1,               //初始化加载第一页，默认第一页
        pageSize: 10,
        pageList: [5, 10, 15, 20],
        sortable: false,
        sortOrder: "asc",
        showColumns: true,
        strictSearch: true,
        locale: "zh-CN",
        paginationHAlign: "center",
        clickToSelect: true,
        columns: [
            {checkbox: true, valign: "middle"},
            {field: "stime", title: "入库时间", align: "left", valign: "middle"},
            {field: "bianhao", title: "编号", align: "left", valign: "middle"},
            {field: "sname", title: "商品名称", align: "left", valign: "middle"},
            {field: "shNum", title: "验收数量", align: "left", valign: "middle"},
            {field: "sPy", title: "生产企业", align: "left", valign: "middle"},
            {field: "productNum", title: "生产许可号", align: "left", valign: "middle"},
            {field: "guoxieNum", title: "国械注准号", align: "left", valign: "middle"},
            {field: "guige", title: "规格", align: "left", valign: "middle"},
            {field: "spNum", title: "生产批号", align: "left", valign: "middle"},
            {field: "quality", title: "生产时间", align: "left", valign: "middle"},
            {field: "guoqi", title: "过期时间", align: "left", valign: "middle"},
            {field: "ysjueguo", title: "验收结果", align: "left", valign: "middle"},
            {field: "yanshou", title: "验收日期", align: "left", valign: "middle"},
            {field: "putPerson", title: "质检人员", align: "center", valign: "middle"},
            {field: "num", title: "单据编号", align: "left", valign: "middle"},
        ]
    });



    /*销售记录*/
    // var tabFour = new TableInit({
    //     dom: '#xsReload-table',
    //     data: false,
    //     method: 'get',
    //     type: 'server',
    //     url: config.getUrl_medicalAppliances_getXiaoShouReload(),
    //     columns: winObj.XSReload,
    //     // queryParams: function (param) {
    //     //     param.subid = quakooUser.getUserInfo().sid;
    //     //     param.token = quakooUser.getUserInfo().token;
    //     //     if (startTime) {
    //     //         param.startTime = startTime;
    //     //     }
    //     //     if (endTime) {
    //     //         param.endTime = endTime;
    //     //     }
    //     //     return param
    //     // },
    //     // onCheckAll: function (data) {
    //     //     var len = data.length;
    //     //     for (var i = 0; i < data.length; i++) {
    //     //         checkArray[data[i].id] = data[i].id
    //     //     }
    //     //     shouyeShowFooter(len, checkArray)
    //     // },
    //     // onUncheckAll: function (data) {
    //     //     var len = 0;
    //     //     checkArray = {};
    //     //     shouyeShowFooter(len, checkArray)
    //     // },
    //     // onCheck: function (data) {
    //     //     var len = $('#xsjl-table').find('tr.selected').length;
    //     //     checkArray[data.id] = data.id;
    //     //     shouyeShowFooter(len, checkArray)
    //     // },
    //     // onUncheck: function (data) {
    //     //     delete checkArray[data.id]
    //     //     var len = $('#xsjl-table').find('tr.selected').length;
    //     //     shouyeShowFooter(len, checkArray)
    //     // },
    //     callBack: function (row) {
    //         subid: quakooUser.getUserInfo().sid
    //         startTime: startTime;
    //         endTime: endTime;
    //         return row
    //     }
    // });
    // tabFour.Init();

    /*退货记录*/
    var data9 = [
        {
            stime: "2018.12.10",
            sname: "李国芳",
            series: "9218379212",
            model: "清凉一夏暴龙太阳眼镜",
            cycle: "12",
            spy: "北京暴龙眼镜有限公司",
            quality: "21928378291",
            guoxieNum: "2319876741",
            guige: "瓶",
            spNum: "2319876741",
            quality: "2019.03.30",
            guoqi: "2019.03.30",
            putPerson: "王",
            shPerson: "李红",
            num: "50"
        },
        {
            stime: "2018.12.10",
            sname: "李国芳",
            series: "9218379212",
            model: "清凉一夏暴龙太阳眼镜",
            cycle: "12",
            spy: "北京暴龙眼镜有限公司",
            quality: "21928378291",
            guoxieNum: "2319876741",
            guige: "瓶",
            spNum: "2319876741",
            quality: "2019.03.30",
            guoqi: "2019.03.30",
            putPerson: "王",
            shPerson: "李红",
            num: "50"
        },
        {
            stime: "2018.12.10",
            sname: "李国芳",
            series: "9218379212",
            model: "清凉一夏暴龙太阳眼镜",
            cycle: "12",
            spy: "北京暴龙眼镜有限公司",
            quality: "21928378291",
            guoxieNum: "2319876741",
            guige: "瓶",
            spNum: "2319876741",
            quality: "2019.03.30",
            guoqi: "2019.03.30",
            putPerson: "王",
            shPerson: "李红",
            num: "50"
        },
        {
            stime: "2018.12.10",
            sname: "李国芳",
            series: "9218379212",
            model: "清凉一夏暴龙太阳眼镜",
            cycle: "12",
            spy: "北京暴龙眼镜有限公司",
            quality: "21928378291",
            guoxieNum: "2319876741",
            guige: "瓶",
            spNum: "2319876741",
            quality: "2019.03.30",
            guoqi: "2019.03.30",
            putPerson: "王",
            shPerson: "李红",
            num: "50"
        },
    ];
    $("#thReload-table").bootstrapTable({
        data: data9,                 //被加载的数据。
        classes: "table",
        pagination: true,            //是否显示分页
        pageNumber: 1,               //初始化加载第一页，默认第一页
        pageSize: 10,
        pageList: [5, 10, 15, 20],
        sortable: false,
        sortOrder: "asc",
        showColumns: true,
        strictSearch: true,
        locale: "zh-CN",
        paginationHAlign: "center",
        clickToSelect: true,
        columns: [
            {checkbox: true, valign: "middle"},
            {field: "stime", title: "退货日期", align: "left", valign: "middle"},
            {field: "sname ", title: "客户名称", align: "left", valign: "middle"},
            {field: "series", title: "商品编号", align: "left", valign: "middle"},
            {field: "model", title: "商品名称", align: "left", valign: "middle"},
            {field: "cycle", title: "销售数量", align: "left", valign: "middle"},
            {field: "spy", title: "生产企业", align: "left", valign: "middle"},
            {field: "quality", title: "生产许可号", align: "left", valign: "middle"},
            {field: "guoxieNum", title: "国械注准号", align: "left", valign: "middle"},
            {field: "guige", title: "规格", align: "left", valign: "middle"},
            {field: "spNum", title: "生产批号", align: "left", valign: "middle"},
            {field: "quality", title: "生产时间", align: "left", valign: "middle"},
            {field: "guoqi", title: "过期时间", align: "left", valign: "middle"},
            {field: "putPerson", title: "销售人员", align: "center", valign: "middle"},
            {field: "shPerson", title: "审核人员", align: "center", valign: "middle"},
            {field: "num", title: "单据编号", align: "left", valign: "middle"}
        ]
    });
    /*销毁记录*/
    var data8 = [
        {
            stime: "2018.12.10",
            series: "9218379212",
            model: "清凉一夏暴龙太阳眼镜",
            cycle: "12",
            spy: "北京暴龙眼镜有限公司",
            quality: "21928378291",
            guoxieNum: "2319876741",
            guige: "瓶",
            spNum: "2319876741",
            quality: "2019.03.30",
            guoqi: "2019.03.30",
            putPerson: "王",
            shPerson: "李红",
            num: "50"
        },
        {
            stime: "2018.12.10",
            series: "9218379212",
            model: "清凉一夏暴龙太阳眼镜",
            cycle: "12",
            spy: "北京暴龙眼镜有限公司",
            quality: "21928378291",
            guoxieNum: "2319876741",
            guige: "瓶",
            spNum: "2319876741",
            quality: "2019.03.30",
            guoqi: "2019.03.30",
            putPerson: "王",
            shPerson: "李红",
            num: "50"
        },
        {
            stime: "2018.12.10",
            series: "9218379212",
            model: "清凉一夏暴龙太阳眼镜",
            cycle: "12",
            spy: "北京暴龙眼镜有限公司",
            quality: "21928378291",
            guoxieNum: "2319876741",
            guige: "瓶",
            spNum: "2319876741",
            quality: "2019.03.30",
            guoqi: "2019.03.30",
            putPerson: "王",
            shPerson: "李红",
            num: "50"
        },
        {
            stime: "2018.12.10",
            series: "9218379212",
            model: "清凉一夏暴龙太阳眼镜",
            cycle: "12",
            spy: "北京暴龙眼镜有限公司",
            quality: "21928378291",
            guoxieNum: "2319876741",
            guige: "瓶",
            spNum: "2319876741",
            quality: "2019.03.30",
            guoqi: "2019.03.30",
            putPerson: "王",
            shPerson: "李红",
            num: "50"
        },
        {
            stime: "2018.12.10",
            series: "9218379212",
            model: "清凉一夏暴龙太阳眼镜",
            cycle: "12",
            spy: "北京暴龙眼镜有限公司",
            quality: "21928378291",
            guoxieNum: "2319876741",
            guige: "瓶",
            spNum: "2319876741",
            quality: "2019.03.30",
            guoqi: "2019.03.30",
            putPerson: "王",
            shPerson: "李红",
            num: "50"
        }
    ];
    $("#xhReload-table").bootstrapTable({
        data: data8,                 //被加载的数据。
        classes: "table",
        pagination: true,            //是否显示分页
        pageNumber: 1,               //初始化加载第一页，默认第一页
        pageSize: 10,
        pageList: [5, 10, 15, 20],
        sortable: false,
        sortOrder: "asc",
        showColumns: true,
        strictSearch: true,
        locale: "zh-CN",
        paginationHAlign: "center",
        clickToSelect: true,
        columns: [
            {checkbox: true, valign: "middle"},
            {field: "stime", title: "退货日期", align: "left", valign: "middle"},
            {field: "series", title: "商品编号", align: "left", valign: "middle"},
            {field: "model", title: "商品名称", align: "left", valign: "middle"},
            {field: "cycle", title: "销售数量", align: "left", valign: "middle"},
            {field: "spy", title: "生产企业", align: "left", valign: "middle"},
            {field: "quality", title: "生产许可号", align: "left", valign: "middle"},
            {field: "guoxieNum", title: "国械注准号", align: "left", valign: "middle"},
            {field: "guige", title: "规格", align: "left", valign: "middle"},
            {field: "spNum", title: "生产批号", align: "left", valign: "middle"},
            {field: "quality", title: "生产时间", align: "left", valign: "middle"},
            {field: "guoqi", title: "过期时间", align: "left", valign: "middle"},
            {field: "putPerson", title: "销售人员", align: "center", valign: "middle"},
            {field: "shPerson", title: "审核人员", align: "center", valign: "middle"},
            {field: "num", title: "单据编号", align: "left", valign: "middle"}
        ]
    });
    /**
     * tab切换
     * */
    $(".tab-ul li").click(function () {
        $(this).addClass('active').siblings().removeClass('active');
        $(".tab-item").hide().eq($(this).index()).show();
        $(".right-info").hide().eq($(this).index()).show();
    });
    /**
     * 出库记录二级tab切换
     * */
    $(".ckReload li").click(function () {
        $(this).addClass('active').siblings().removeClass('active');
        $(".tab-items").hide().eq($(this).index()).show();
    });
    //初始化
    var TableInit = function (tabObj) {
        var oTableInit = new Object();
        //初始化Table
        oTableInit.Init = function () {
            $(tabObj.dom).bootstrapTable('destroy');
            $(tabObj.dom).bootstrapTable({
                url: tabObj.url,         //请求后台的URL（*）
                method: tabObj.method,                      //请求方式（*）
                data: tabObj.data,
                toolbar: '#toolbar',                //工具按钮用哪个容器
                //                    striped: true,                      //是否显示行间隔色
                cache: false,                       //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）
                pagination: true,                   //是否显示分页（*）
                sortable: false,                     //是否启用排序
                sortOrder: "asc",                   //排序方式
                sidePagination: tabObj.type,           //分页方式：client客户端分页，server服务端分页（*）
                pageNumber: 1,                       //初始化加载第一页，默认第一页
                pageSize: 10,                       //每页的记录行数（*）
                pageList: [10, 20, 30],        //可供选择的每页的行数（*）
                //                search: true,                       //是否显示表格搜索，此搜索是客户端搜索，不会进服务端，所以，个人感觉意义不大
                strictSearch: true,
                showColumns: true,                  //是否显示所有的列
                //              showRefresh: true,                  //是否显示刷新按钮
                minimumCountColumns: 2,             //最少允许的列数
                clickToSelect: true,                //是否启用点击选中行
                //              height: 500,                        //行高，如果没有设置height属性，表格自动根据记录条数觉得表格高度
                uniqueId: "id",                     //每一行的唯一标识，一般为主键列
                //                showToggle:true,                    //是否显示详细视图和列表视图的切换按钮
                cardView: false,                    //是否显示详细视图
                detailView: false,                   //是否显示父子表
                columns: tabObj.columns,
                //                    showFooter:true,            //表格底部
                onClickRow: function (row) {
                },
                queryParamsType: 'limit',
                queryParams: function (params) {
                    params.token = quakooUser.getUserInfo().token;
                    params.page = (params.offset / params.limit) + 1;
                    params.size = params.limit;
                    // if (startTime) {
                    //     params.ctime = startTime;
                    // }
                    // if (endTime) {
                    //     params.utime = endTime;
                    // }
                    return typeof tabObj.callBack == 'function' ? tabObj.callBack(params) : false;
                },
                onCheckAll: tabObj.onCheckAll,
                onUncheckAll: tabObj.onUncheckAll,
                onCheck: tabObj.onCheck,
                onUncheck: tabObj.onUncheck,
            });
        };
        return oTableInit;
    };

    // 未补充说明产品
    function warnSP() {
        $("#table1").hide();
        $(".warn1").hide();
        $("#table2").show();
        /*所有商品(需要补充说明商品)*/
        //企业证件有效期到期列表
        // var tabThree = new TableInit({ //分页请求
        //     dom: '#xsjl-table1',
        //     data: false,
        //     method: 'get',
        //     type: 'server',
        //     url: config.getUrl_medicalAppliances_getNotBuCSMShop(),
        //     columns: winObj.warnSPList,
        //     callBack: function (row) {
        //         subid: quakooUser.getUserInfo().sid;
        //         token: quakooUser.getUserInfo().token;
        //         return row
        //     }
        // });
        // tabThree.Init();
        quakooData.ajaxGetData(config.getUrl_medicalAppliances_getNotBuCSMShop(), {
            subid: quakooUser.getUserInfo().sid,
            token: quakooUser.getUserInfo().token
        }, function (ret) {
            console.log(ret)
            var tabTwo = new TableInit({
                dom: '#xsjl-table1',
                data: ret.rows,
                method: false,
                type: 'client',
                url: false,
                columns: winObj.warnSPList
            });
        tabTwo.Init();
        })
    }

    function tabListFooter(num, ids) {
        var botBar = '<div class="winFooterBox">' +
            '<span id="numLen"> 选中' + num + '项</span>' +
            '<div class="winFooterLast">' +
            '<span class="btnSubmission">取消选中</span>' +
            '<span class="btnPreservation">审核通过</span>' +
            '</div>' +
            '</div>';
        if (num > 0) {
            $('.qiyeListToast .layui-layer-btn').html(botBar)
            //取消选中
            $('.btnSubmission').click(function () {
                $('#qyxx-table').find('tr.selected input').removeAttr('checked')
                $('#qyxx-table').find('tr.selected').removeClass('selected')
                $('.qiyeListToast .layui-layer-btn').html('<a class="layui-layer-btn0">关闭窗口</a>')
            })
            //审核通过
            $('.btnPreservation').click(function () {
                var idss = [];
                //转换成数组
                Object.keys(ids).forEach(function (key) {
                    idss.push(key)
                });
                console.log(idss)
                quakooData.ajaxGetData(config.getUrl_medicalAppliances_sHeTongGuo(), {ids: idss}, function (ret) {
                    if (ret && ret.success) {
                        layer.msg('审核成功')
                    }
                })
            })
        } else {
            $('.qiyeListToast .layui-layer-btn').html('<a class="layui-layer-btn0">关闭窗口</a>')
            $('.qiyeListToast .layui-layer-btn .layui-layer-btn0').click(function () {
                layer.close(qyToast)
            })
        }
    }

    // 企业列表
    function proLists() {
        var arrOnly = {};
        var qyToast = layer.open({
            type: 1, shade: 0.01,
            title: null,
            skin: 'my-skin qiyeListToast',
            area: ['820px', '550px'],
            anim: 0,
            maxWidth: '720',
            closeBtn: 0, //显示关闭按钮
            resize: false,
            shadeClose: true, //开启遮罩关闭
            content: $('.content-view-proLists'),
            btn: '关闭窗口',
            success: function () {

            }
        });
        //获取所有供应商/生产商列表
        var tabOne = new TableInit({
            dom: '#qyxx-table',
            data: false,
            method: 'get',
            type: 'server',
            url: config.getUrl_medicalAppliances_getgyshang(),
            columns: winObj.gsListAll,
            onCheckAll: function (data) {
                arrOnly = {};
                var len = data.length;
                for (var i = 0; i < data.length; i++) {
                    arrOnly[data[i].id] = data[i].id
                }
                tabListFooter(len, arrOnly)
            },
            onUncheckAll: function (data) {
                var arrAll = {};
                tabListFooter(0, arrAll)
            },
            onCheck: function (data) {
                var len = $('#qyxx-table').find('tr.selected').length;
                arrOnly[data.id] = data.id
                tabListFooter(len, arrOnly)
            },
            onUncheck: function (data) {
                delete arrOnly[data.id]
                var len = $('#qyxx-table').find('tr.selected').length;
                tabListFooter(len, arrOnly)
            },
            callBack: function (row) {
                token: quakooUser.getUserInfo().token;
                return row
            }
        });
        tabOne.Init();

        //获取证件有效期到期企业数量
        quakooData.ajaxGetData(config.getUrl_medicalAppliances_getguoqiGshang(), {token: quakooUser.getUserInfo().token}, function (ret) {
            $('.daoqiWarn .warnLeft').find('.daoNum').html(ret.rows.length);
        })
    }

    // 证件有效期到期弹窗
    function cardGuoqi() {
        //企业证件有效期到期列表
        var tabThree = new TableInit({
            dom: '#zjdq-table',
            data: false,
            method: 'get',
            type: 'server',
            url: config.getUrl_medicalAppliances_getguoqiGshang(),
            columns: winObj.gsGuoqiAll,
            callBack: function (row) {
                token: quakooUser.getUserInfo().token;
                return row
            }
        });
        tabThree.Init();
        layer.open({
            type: 1,
            shade: 0.01,
            title: ['<div style="float: left;font-size: 13px;">证件有效期到期企业</div>', 'background-color: #fff;'],
            skin: 'my-skin',
            area: ['720px', '550px'],
            anim: 0,
            maxWidth: '720',
            closeBtn: 0, //显示关闭按钮
            resize: false,
            shadeClose: true, //开启遮罩关闭
            content: $('.content-view-cardGuoqi'),
            btn: '关闭窗口'
        });
    }


    //创建企业弹窗
    var date1,
        date2,
        date3,
        date4,
        rangeValue = [],
        shopInfo = {};

    function addPros(data) {
        console.log(data)
        if (data) {
            rangeValue.push(data.range);
            shopInfo.area = data.area;
            shopInfo.city = data.city;
            shopInfo.province = data.province;
        } else {
            data.area = 1;
            data.city = 0;
            data.province = 0;
        }
        var index = layer.open({
            type: 1,
            shade: 0.01,
            title: data ? '编辑企业' : '新增企业',
            skin: 'content-view-shopDes-tan content-view-submit', //样式类名
            anim: 0,
            area: ['360px', '550px'],
            closeBtn: 0, //不显示关闭按钮
            resize: false,
            shadeClose: true, //开启遮罩关闭
            content: $('#shopDom'), //容器对象
            btn: ['取消', '保存'],
            yes: function (index) {
                layer.close(index);
            },
            btn2: function (index) {
                addSuppliers(index, data ? data.id : false);
                return false
            },
            success: function (layero, index) {

                if (areaJson.getAreaByAid(data.province)) {
                    data.provinceName = areaJson.getAreaByAid(data.province).name
                }
                if (areaJson.getAreaByAid(data.city)) {
                    data.cityName = areaJson.getAreaByAid(data.city).name
                }
                if (areaJson.getAreaByAid(data.area)) {
                    data.areaName = areaJson.getAreaByAid(data.area).name
                }
                var twoArea = areaJson.getSubList(data.province);
                var threeArea = areaJson.getSubList(data.city);
                $("#shopDom").html(template('shopTmp', {
                    list: data,
                    oneArea: oneArea,
                    twoArea: twoArea,
                    threeArea: threeArea
                }));

                //选择省市区
                selectTag($("#province"), function (ret) {
                    shopInfo.province = ret.value;
                    data.city = '';
                    data.area = '';
                    var areaInfo = areaJson.getSubList(ret.value);
                    $("#city").html(template('selectTagTmp', {list: areaInfo, title: '选择市'}));
                    $("#area").html('')
                    selectTag($("#city"), function (ret1) {
                        shopInfo.city = ret1.value;
                        data.area = '';
                        var area = areaJson.getSubList(ret1.value);
                        $("#area").html(template('selectTagTmp', {list: area, title: '选择区/县'}))
                        selectTag($("#area"), function (ret2) {
                            shopInfo.area = ret2.value;
                        })
                    })
                });
                selectTag($("#city"), function (ret1) {
                    data.city = ret1.value;
                    data.area = '';
                    var area = areaJson.getSubList(ret1.value);
                    $("#area").html(template('selectTagTmp', {list: area, title: '选择区/县'}))
                    selectTag($("#area"), function (ret2) {
                        data.area = ret2.value;
                    })
                });
                selectTag($("#area"), function (ret2) {
                    data.area = ret2.value;
                });

                //日期范围插件开始
                date1 = new dateRange(".yj-demo-time");
                date2 = new dateRange("#time02 .yj-demo-time");
                date3 = new dateRange("#time03 .yj-demo-time");
                date4 = new dateRange("#time04 .yj-demo-time");
                date1.init();
                date2.init();
                date3.init();
                date4.init();
                if (data) {
                    if (data.comBusinessDateStart) {
                        date1.checkStart = quakooUtils.formatTimeToDateDianLY(data.comBusinessDateStart);
                        date1.checkEnd = quakooUtils.formatTimeToDateDianLY(data.comBusinessDateEnd);
                    }
                    if (data.mfRegisterDateStart) {
                        date2.checkStart = quakooUtils.formatTimeToDateDianLY(data.mfRegisterDateStart);
                        date2.checkEnd = quakooUtils.formatTimeToDateDianLY(data.mfRegisterDateEnd);
                    }
                    if (data.licenceDateStart) {
                        date3.checkStart = quakooUtils.formatTimeToDateDianLY(data.licenceDateStart);
                        date3.checkEnd = quakooUtils.formatTimeToDateDianLY(data.licenceDateEnd);
                    }
                    if (data.proDateStart) {
                        date4.checkStart = quakooUtils.formatTimeToDateDianLY(data.proDateStart);
                        date4.checkEnd = quakooUtils.formatTimeToDateDianLY(data.proDateEnd);
                    }
                }
                //日期范围插件结束

                //获取经营范围
                quakooData.ajaxGetData(config.getUrl_medicalAppliances_getRange(), {token: quakooUser.getUserInfo().token}, function (ret) {
                    var html = template('option2', {list: ret.data});
                    $('#option1').html(html)
                    //选择经营范围
                    selectTag($("#select1"), function (ret) {
                        rangeValue.push(ret.text);
                    })
                })

                //营业时间
                var opt = {};
                opt.date = {preset: 'date'};
                opt.datetime = {preset: 'datetime'};
                opt.time = {preset: 'time'};

                opt.default = {
                    theme: 'mbsc-android-holo', //皮肤样式
                    display: 'bubble', //显示方式
                    mode: 'scroller', //日期选择模式
                    dateFormat: 'yyyy-mm-dd',
                    lang: 'zh',
                    showNow: true,
                    nowText: "今天",
                    typeNum: 'day',//day：获取到日，time：获取到时，branch：获取到分；默认是获取到分
                };
                $('.settings').bind('change', function () {
                    var demo = 'datetime';
                    if (!demo.match(/select/i)) {
                        if (data) return;
                        $('.demo-test-' + demo).val('');
                    }
                    $('.demo-test-' + demo).scroller('destroy').scroller($.extend(opt['datetime'], opt['default']));
                    $('.demo').hide();
                    $('.demo-' + demo).show();
                });


                $('#demo01').trigger('change');
                $('#demo03').trigger('change');
                $('#demo05').trigger('change');
                $('#demo07').trigger('change');
            }
        });
    }

    function delImg(self) {
        $(self).parent('.imgBox').remove()
        if ($('.imgBox .imgBox').length < 9) {
            $(".test2").show();
        }
    }

    //上传门店图片
    function uploadIcon(self) {
        $('#uploadForm>input').val('');
        quakooImg.open(function (data) {
            for (var i = 0; i < data.length; i++) {
                if ($(self).prevAll('.imgBox').length < 9) {
                    var obj = quakooImg.processImg(data[i], 100, 100)
                    var str = '<div class="imgBox"><img src="' + obj.url + '" real-src="' + data[i] + '" style="' + obj.style + '" alt=""><div class="del" onclick="delImg(this)"></div></div>'
                    $(self).before(str)
                }
            }
            if ($(self).prevAll('.imgBox').length >= 9) {
                $(self).hide();
            }
        })
    }

    //新增企业
    function addSuppliers(index, id) {
        var param = {};
        if (id) param.id = id;
        param.name = $("#qysname").val(); //企业名称
        param.userName = $("#lxsname").val(); // 联系人
        param.phone = $("#lxphone").val(); //联系电话
        param.range = rangeValue.join(','); //经营范围
        console.log(param.range)
        var storeImg = $.makeArray($('#yyImg .imgBox>img').map(function (index, item) {
            return $(item).attr('real-src');
        })); //企业营业执照照片
        param.storeImg = storeImg.join(',')
        console.log(param.storeImg)
        param.comBusinessNum = $("#yybh").val(); //企业营业执照编号

        param.comBusinessDate = quakooUtils.isNotBlack($("#startTime1").val()) ? new Date($("#startTime1").val()).getTime() : ''; //企业营业执照发证日期

        param.comBusinessDateEnd = quakooUtils.isNotBlack(date1.checkStart) ? date3.getTime()[3] : ''; //企业营业执照有效日期结束时间
        param.comBusinessDateStart = quakooUtils.isNotBlack(date1.checkEnd) ? date3.getTime()[2] : ''; //企业营业执照有效日期开始时间
        param.mfNum = $("#ylnum").val() ? $("#ylnum").val() : ''; //医疗器械注册证编号
        param.mfRegisterDate = quakooUtils.isNotBlack($("#startTime2").val()) ? new Date($("#startTime2").val()).getTime() : ''; //医疗器械注册证批准日期
        param.mfRegisterDateEnd = quakooUtils.isNotBlack(date2.checkStart) ? date2.getTime()[3] : ''; //医疗器械注册证有效日期结束时间
        param.mfRegisterDateStart = quakooUtils.isNotBlack(date2.checkEnd) ? date2.getTime()[2] : ''; //医疗器械注册证有效日期开始时间
        var mfRegisterImg = $.makeArray($('#ylImg .imgBox>img').map(function (index, item) {
            return $(item).attr('real-src');
        })); //医疗器械注册证照片
        // param.mfRegisterImg = JSON.stringify(mfRegisterImg)
        param.mfRegisterImg = mfRegisterImg.join(',');
        param.licenceNum = $("#scykCard").val(); //生产许可证编号
        param.licenceDate = quakooUtils.isNotBlack($("#startTime3").val()) ? new Date($("#startTime3").val()).getTime() : ''; //生产许可证发证日期
        param.licenceDateEnd = quakooUtils.isNotBlack(date3.checkStart) ? date3.getTime()[3] : ''; //生产许可证有效日期结束时间
        param.licenceDateStart = quakooUtils.isNotBlack(date3.checkEnd) ? date3.getTime()[2] : ''; //生产许可证有效日期开始时间
        var licenceImg = $.makeArray($('#scImg .imgBox>img').map(function (index, item) {
            return $(item).attr('real-src');
        })); //生产许可证照片
        // param.licenceImg = JSON.stringify(licenceImg)
        param.licenceImg = licenceImg.join(',')
        var licenceDescImg = $.makeArray($('#qtImg .imgBox>img').map(function (index, item) {
            return $(item).attr('real-src');
        })); //生产许可证其他资料照片
        // param.licenceDescImg = JSON.stringify(licenceDescImg)
        param.licenceDescImg = licenceDescImg.join(',')
        param.proNum = $("#ylxkz").val(); //医疗器械经营许可证
        param.proDate = quakooUtils.isNotBlack($("#startTime4").val()) ? new Date($("#startTime4").val()).getTime() : ''; //供应商经营许可证批准日期
        param.proDateEnd = quakooUtils.isNotBlack(date4.checkStart) ? date4.getTime()[3] : ''; //供应商经营许可证有效日期结束时间
        param.proDateStart = quakooUtils.isNotBlack(date4.checkEnd) ? date4.getTime()[2] : ''; //供应商经营许可证有效日期开始时间
        param.proImg = $.makeArray($('#ylxkzimg .imgBox>img').map(function (index, item) {
            return $(item).attr('real-src');
        })).join(','); //经营许可证照片
        // param.proImg = JSON.stringify(proImg)
        var proDescImg = $.makeArray($('#qtzlImg .imgBox>img').map(function (index, item) {
            return $(item).attr('real-src');
        })); //经营许可证其他资料照片
        // param.proDescImg = JSON.stringify(proDescImg)
        param.proDescImg = proDescImg.join(',')
        param.province = shopInfo.province;//省
        param.city = shopInfo.city;//市
        param.area = shopInfo.area;//区
        param.address = $('#address').val(); //选择详细地址
        console.log(param);
        if ($('#shcheck1').is(':checked') === true) {
            param.manufacturerProvider = ['1'].join(','); //生产商/供应商 1//生产商；2//供应商
            if (quakooUtils.isBlack(param.mfNum)) {
                layer.msg('医疗器械注册证编号');
                return;
            }
            if (quakooUtils.isBlack(param.mfRegisterDate)) {
                layer.msg('医疗器械注册证批准日期');
                return;
            }
            if (quakooUtils.isBlack(param.mfRegisterDateEnd)) {
                layer.msg('医疗器械注册证有效日期结束时间');
                return;
            }
            if (quakooUtils.isBlack(param.mfRegisterDateStart)) {
                layer.msg('医疗器械注册证有效日期开始时间');
                return;
            }
            if (quakooUtils.isBlack(param.mfRegisterImg)) {
                layer.msg('医疗器械注册证照片');
                return;
            }
            if (quakooUtils.isBlack(param.licenceNum)) {
                layer.msg('生产许可证编号');
                return;
            }
            if (quakooUtils.isBlack(param.licenceDate)) {
                layer.msg('生产许可证发证日期');
                return;
            }
            if (quakooUtils.isBlack(param.licenceDateEnd)) {
                layer.msg('生产许可证有效日期结束时间');
                return;
            }
            if (quakooUtils.isBlack(param.licenceDateStart)) {
                layer.msg('生产许可证有效日期开始时间');
                return;
            }
            if (quakooUtils.isBlack(param.licenceImg)) {
                layer.msg('生产许可证照片');
                return;
            }
            if (quakooUtils.isBlack(param.licenceDescImg)) {
                layer.msg('生产许可证其他资料照片');
                return;
            }
        }

        if ($('#shcheck2').is(':checked') === true) {
            param.manufacturerProvider = ['2'].join(','); //生产商/供应商 1//生产商；2//供应商
            if (quakooUtils.isBlack(param.proNum)) {
                layer.msg('医疗器械经营许可证');
                return;
            }
            if (quakooUtils.isBlack(param.proDate)) {
                layer.msg('供应商经营许可证批准日期');
                return;
            }
            if (quakooUtils.isBlack(param.proDateEnd)) {
                layer.msg('供应商经营许可证有效日期结束时间');
                return;
            }
            if (quakooUtils.isBlack(param.proDateStart)) {
                layer.msg('供应商经营许可证有效日期开始时间');
                return;
            }
            if (quakooUtils.isBlack(param.proImg)) {
                layer.msg('经营许可证照片');
                return;
            }
            if (quakooUtils.isBlack(param.proDescImg)) {
                layer.msg('经营许可证其他资料照片');
                return;
            }
        }

        if ($('#shcheck1').is(':checked') === true && $('#shcheck2').is(':checked') === true) {
            param.manufacturerProvider = ['1', '2'].join(','); //生产商/供应商 1//生产商；2//供应商
        } else {
            param.manufacturerProvider = null; //生产商/供应商 1//生产商；2//供应商
        }
        if (quakooUtils.isBlack(param.name)) {
            layer.msg('企业名称');
            return;
        }
        if (quakooUtils.isBlack(param.userName)) {
            layer.msg('联系人');
            return;
        }
        if (quakooUtils.isBlack(param.phone)) {
            layer.msg('联系电话');
            return;
        }
        if (quakooUtils.isBlack(param.range)) {
            layer.msg('经营范围');
            return;
        }
        if (quakooUtils.isBlack(param.province) || quakooUtils.isBlack(param.city) || quakooUtils.isBlack(param.area)) {
            layer.msg('请选择地址');
            return;
        }
        if (quakooUtils.isBlack(param.address)) {
            layer.msg('请输入详细地址');
            return;
        }
        if (quakooUtils.isBlack(param.storeImg)) {
            layer.msg('企业营业执照照片');
            return;
        }
        if (quakooUtils.isBlack(param.comBusinessNum)) {
            layer.msg('企业营业执照编号');
            return;
        }
        if (quakooUtils.isBlack(param.comBusinessDate)) {
            layer.msg('企业营业执照发证日期');
            return;
        }
        if (quakooUtils.isBlack(param.comBusinessDateEnd)) {
            layer.msg('企业营业执照有效日期结束时间');
            return;
        }
        if (quakooUtils.isBlack(param.comBusinessDateStart)) {
            layer.msg('企业营业执照有效日期开始时间');
            return;
        }
        var url = id ? config.getUrl_medicalAppliances_update() : config.getUrl_medicalAppliances_addgyshang();

        quakooData.ajaxGetData(url, param, function (ret) {
            if (ret.success) {
                layer.msg("保存成功");
                $('#qyxx-table').bootstrapTable('refreshOptions', {
                    pageNumber: 1
                });
                layer.close(index);
            } else {
                layer.msg(ret.data);
            }
        })
    }

    function shows1(_this) {
        $('.qyshow1').slideToggle();
    }

    function shows2(_this) {
        $('.qyshow2').slideToggle();
    }
</script>
</body>

</html>